  [4;36;1mSQL (0.001000)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.000000)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.198000)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.211000)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.001000)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSQLite3::SQLException: near "default": syntax error: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) DEFAULT NULL NULL, "email" varchar(255) DEFAULT NULL NULL, "hashed_password" varchar(255) DEFAULT NULL NULL, "activation_code" varchar(255) DEFAULT NULL NULL, "temp_pass" varchar(255) DEFAULT NULL NULL, "temp_pass_active" varchar(255) DEFAULT NULL NULL, "created_at" datetime DEFAULT NULL NULL, "updated_at" datetime DEFAULT NULL NULL) default charset=utf8[0m
  [4;36;1mSQL (0.001000)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.000000)[0m   [0mSQLite3::SQLException: near "charset": syntax error: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) DEFAULT NULL NULL, "email" varchar(255) DEFAULT NULL NULL, "hashed_password" varchar(255) DEFAULT NULL NULL, "activation_code" varchar(255) DEFAULT NULL NULL, "temp_pass" varchar(255) DEFAULT NULL NULL, "temp_pass_active" varchar(255) DEFAULT NULL NULL, "created_at" datetime DEFAULT NULL NULL, "updated_at" datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;36;1mSQL (0.024000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.197000)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.266000)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.001000)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.046000)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `username` varchar(255) DEFAULT NULL NULL, `email` varchar(255) DEFAULT NULL NULL, `hashed_password` varchar(255) DEFAULT NULL NULL, `activation_code` varchar(255) DEFAULT NULL NULL, `temp_pass` varchar(255) DEFAULT NULL NULL, `temp_pass_active` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;36;1mSQL (0.057000)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100718212501')[0m
Migrating to CreateGroups (20100718212751)
  [4;35;1mSQL (0.000000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.048000)[0m   [0;1mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `hook` varchar(255) DEFAULT NULL NULL, `description` varchar(255) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;35;1mSQL (0.041000)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718212751')[0m
Migrating to CreateUsersGroups (20100718214027)
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.071000)[0m   [0mCREATE TABLE `users_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11) DEFAULT NULL NULL, `group_id` int(11) DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.038000)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100718214027')[0m
Migrating to CreateCountries (20100718214432)
  [4;35;1mSQL (0.001000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.051000)[0m   [0;1mCREATE TABLE `countries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `latitude` float DEFAULT NULL NULL, `longtitude` float DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;35;1mSQL (0.060000)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718214432')[0m
Migrating to CreateCities (20100718215154)
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.117000)[0m   [0mCREATE TABLE `cities` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `latitude` float DEFAULT NULL NULL, `longtitude` float DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;36;1mSQL (0.071000)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100718215154')[0m
Migrating to CreateListings (20100718215709)
  [4;35;1mSQL (0.001000)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.052000)[0m   [0;1mCREATE TABLE `listings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255) DEFAULT NULL NULL, `hook` varchar(255) DEFAULT NULL NULL, `description` varchar(255) DEFAULT NULL NULL, `address` varchar(255) DEFAULT NULL NULL, `opening_hour` varchar(255) DEFAULT NULL NULL, `longtitude` float DEFAULT NULL NULL, `latitude` float DEFAULT NULL NULL, `created_at` datetime DEFAULT NULL NULL, `updated_at` datetime DEFAULT NULL NULL) charset=utf8[0m
  [4;35;1mSQL (0.042000)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718215709')[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.000000)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.007000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mSQL (0.004000)[0m   [0mdescribe `cities`[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW KEYS FROM `cities`[0m
  [4;35;1mSQL (0.005000)[0m   [0mSHOW FIELDS FROM `countries`[0m
  [4;36;1mSQL (0.005000)[0m   [0;1mdescribe `countries`[0m
  [4;35;1mSQL (0.001000)[0m   [0mSHOW KEYS FROM `countries`[0m
  [4;36;1mSQL (0.005000)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.004000)[0m   [0mdescribe `groups`[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW KEYS FROM `groups`[0m
  [4;35;1mSQL (0.005000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.005000)[0m   [0;1mdescribe `listings`[0m
  [4;35;1mSQL (0.001000)[0m   [0mSHOW KEYS FROM `listings`[0m
  [4;36;1mSQL (0.006000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.004000)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.004000)[0m   [0mSHOW FIELDS FROM `users_groups`[0m
  [4;36;1mSQL (0.004000)[0m   [0;1mdescribe `users_groups`[0m
  [4;35;1mSQL (0.067000)[0m   [0mSHOW KEYS FROM `users_groups`[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 10:13:13) [GET]
  Session ID: 4b59ef4ea9d83398bf7b0bb96ff0896d
  Parameters: {}


ActionController::RoutingError (No route matches "/register" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:13:25) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--9b486edcbf0ca50f5682ad390b518135e614369b
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.00400 (5%) | DB: 0.00400 (5%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:19:27) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--9b486edcbf0ca50f5682ad390b518135e614369b
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.006000)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.06200 (16 reqs/sec) | Rendering: 0.01700 (27%) | DB: 0.00600 (9%) | 200 OK [http://localhost/user/register]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 10:19:31) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {}


ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:20:06) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.08400 (11 reqs/sec) | Rendering: 0.02300 (27%) | DB: 0.00700 (8%) | 200 OK [http://localhost/user/register]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 10:20:10) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {}


ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:22:23) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.007000)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.07700 (12 reqs/sec) | Rendering: 0.01300 (16%) | DB: 0.00700 (9%) | 200 OK [http://localhost/user/register]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 10:22:24) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {}


ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:28:30) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.008000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.09100 (10 reqs/sec) | Rendering: 0.02600 (28%) | DB: 0.00800 (8%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:30:57) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.003000)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.05100 (19 reqs/sec) | Rendering: 0.00300 (5%) | DB: 0.00300 (5%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:31:27) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.06900 (14 reqs/sec) | Rendering: 0.00600 (8%) | DB: 0.00600 (8%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:31:32) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.003000)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.02700 (37 reqs/sec) | Rendering: 0.00300 (11%) | DB: 0.00300 (11%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:31:56) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.05800 (17 reqs/sec) | Rendering: 0.00200 (3%) | DB: 0.00300 (5%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:32:36) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.007000)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.09000 (11 reqs/sec) | Rendering: 0.02600 (28%) | DB: 0.00700 (7%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 10:33:49) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.008000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.07800 (12 reqs/sec) | Rendering: 0.01200 (15%) | DB: 0.00800 (10%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:15:29) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"user"=>{"password_confirmation"=>"sfdaf", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m


TypeError (can't convert nil into String):
    /app/models/user.rb:37:in `digest'
    /app/models/user.rb:37:in `hexdigest'
    /app/models/user.rb:37:in `encrypted_password'
    /app/models/user.rb:31:in `password='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2361:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2361:in `attributes='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2360:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2360:in `attributes='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2130:in `initialize'
    /app/controllers/user_controller.rb:7:in `new'
    /app/controllers/user_controller.rb:7:in `register'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:19:11) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"user"=>{"password_confirmation"=>"", "username"=>"emma.nguyen", "password"=>"", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.077000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m


NoMethodError (undefined method `random_string' for UserController:Class):
    /app/controllers/user_controller.rb:29:in `register'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ApplicationController#register (for 127.0.0.1 at 2010-08-22 14:21:55) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQwOgplbWFpbDA6DXVzZXJuYW1lMAY6CkB1c2Vkewg7
B0Y7CEY7CUY=--dfa75e7450d85f9aec9a8dc954fa726057a10d23
  Parameters: {"user"=>{"password_confirmation"=>"fda", "username"=>"emma.nguyen", "password"=>"thuydun", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}


SyntaxError (D:/hostel/app/controllers/user_controller.rb:43: trailing `_' in number
		1.upto(len){|i| result << chars[rand((chars.size) -1_]}
		                                                     ^
D:/hostel/app/controllers/user_controller.rb:43: syntax error, unexpected ']', expecting ')'
		1.upto(len){|i| result << chars[rand((chars.size) -1_]}
		                                                      ^):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/inflector.rb:283:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/string/inflections.rb:143:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:386:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing ApplicationController#register (for 127.0.0.1 at 2010-08-22 14:22:49) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQwOgplbWFpbDA6DXVzZXJuYW1lMAY6CkB1c2Vkewg7
B1Q7CFQ7CVQ=--fb67e13d5e3ee67bcdb4b08f812e4e67d9f7a28c
  Parameters: {"user"=>{"password_confirmation"=>"mistaken", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}


SyntaxError (D:/hostel/app/controllers/user_controller.rb:43: syntax error, unexpected ']', expecting ')'
		1.upto(len){|i| result << chars[rand((chars.size) -1]}
		                                                     ^):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/inflector.rb:283:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/string/inflections.rb:143:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:386:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:23:13) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"user"=>{"password_confirmation"=>"dfsf", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.005000)[0m   [0mSHOW FIELDS FROM `users`[0m


TypeError (can't convert nil into String):
    /app/models/user.rb:37:in `digest'
    /app/models/user.rb:37:in `hexdigest'
    /app/models/user.rb:37:in `encrypted_password'
    /app/models/user.rb:31:in `password='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2361:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2361:in `attributes='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2360:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2360:in `attributes='
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:2130:in `initialize'
    /app/controllers/user_controller.rb:7:in `new'
    /app/controllers/user_controller.rb:7:in `register'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:26:00) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"user"=>{"password_confirmation"=>"mistaken", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.010000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m
Rendering user/register
Completed in 0.13100 (7 reqs/sec) | Rendering: 0.00800 (6%) | DB: 0.10300 (78%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:31:53) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHRjsIRjsJRg==--e8f828b90404f3c880e2e17c03c01512987bff2f
  Parameters: {"user"=>{"password_confirmation"=>"mistaken", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>""}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.007000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;35;1mUser Load (0.001000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = '') LIMIT 1[0m
Rendering user/register
Completed in 0.07000 (14 reqs/sec) | Rendering: 0.00500 (7%) | DB: 0.00900 (12%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:32:30) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHRjsIRjsJRg==--e8f828b90404f3c880e2e17c03c01512987bff2f
  Parameters: {"user"=>{"password_confirmation"=>"faf", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.039000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m
Rendering user/register
Completed in 0.11700 (8 reqs/sec) | Rendering: 0.00500 (4%) | DB: 0.03900 (33%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:35:30) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHRjsIRjsJRg==--e8f828b90404f3c880e2e17c03c01512987bff2f
  Parameters: {"action"=>"register", "controller"=>"user"}
  [4;36;1mSQL (0.043000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.032000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering user/register
Completed in 0.10000 (10 reqs/sec) | Rendering: 0.05200 (52%) | DB: 0.07600 (76%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:35:48) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHVDsIVDsJVA==--c1cd8160b90de292dd96fbbfe5bf8ff6c9484b73
  Parameters: {"user"=>{"password_confirmation"=>"mistaken", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;35;1mUser Columns (0.009000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.000000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m
Rendering user/register
Completed in 0.09700 (10 reqs/sec) | Rendering: 0.01800 (18%) | DB: 0.00900 (9%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:39:51) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHRjsIRjsJRg==--e8f828b90404f3c880e2e17c03c01512987bff2f
  Parameters: {"user"=>{"password_confirmation"=>"thuydung", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
Rendering user/register
Completed in 0.01300 (76 reqs/sec) | Rendering: 0.00600 (46%) | DB: 0.00000 (0%) | 200 OK [http://localhost/user/register]


Processing UserController#register (for 127.0.0.1 at 2010-08-22 14:40:17) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CDoNcGFzc3dvcmQiG1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2g6CmVtYWls
MDoNdXNlcm5hbWUwBjoKQHVzZWR7CDsHVDsIVDsJVA==--c1cd8160b90de292dd96fbbfe5bf8ff6c9484b73
  Parameters: {"user"=>{"password_confirmation"=>"thuydung", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"register", "controller"=>"user"}
  [4;36;1mUser Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.000000)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m
  [4;35;1mSQL (0.047000)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSELECT `username` FROM `users` WHERE (`users`.username = 'emma.nguyen') [0m
  [4;35;1mUser Create (0.118000)[0m   [0mINSERT INTO `users` (`updated_at`, `hashed_password`, `temp_pass_active`, `username`, `activation_code`, `email`, `temp_pass`, `created_at`) VALUES('2010-08-22 06:40:17', '8147571ad5d39cfe6d86a7326a956180', NULL, 'emma.nguyen', 'bqv4ckj80eyoradgtwnymb0ej3orrjeq', 'nazia201@yahoo.com', NULL, '2010-08-22 06:40:17')[0m
Sent mail to nazia201@yahoo.com

Date: Sun, 22 Aug 2010 14:40:17 +0800
From: andrew.hostel@gmail.com
To: nazia201@yahoo.com
Subject: Andrew's Hostel Signup Notification
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Dear emma.nguyen,
This is your activation link to join our website. In order to confirm your membership please click on the following link:

Thank you for joining.

Andrew's Hostel
  [4;36;1mSQL (0.002000)[0m   [0;1mCOMMIT[0m
Rendering user/register
Completed in 1.47500 (0 reqs/sec) | Rendering: 0.00600 (0%) | DB: 0.17400 (11%) | 200 OK [http://localhost/user/register]


Processing ApplicationController#login (for 127.0.0.1 at 2010-08-22 14:55:46) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CToNcGFzc3dvcmQwOgplbWFpbDA6C25vdGljZSJTQWNjb3VudCByZWdp
c3RlcmVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBmb3IgZGV0YWlscyBv
biBob3cgdG8gYWN0aXZhdGUgaXQuOg11c2VybmFtZTAGOgpAdXNlZHsJOwdG
OwhGOwlGOwpG--4e0ed698ac87f3a81d7d162758a468584e63a716
  Parameters: {"action"=>"login", "controller"=>"user"}


SyntaxError (D:/hostel/app/controllers/user_controller.rb:6: syntax error, unexpected kIF, expecting ')'
			if user
			  ^):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/inflector.rb:283:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/string/inflections.rb:143:in `constantize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:386:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing UserController#login (for 127.0.0.1 at 2010-08-22 14:57:15) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7CToNcGFzc3dvcmQwOgplbWFpbDA6C25vdGljZSJTQWNjb3VudCByZWdp
c3RlcmVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBmb3IgZGV0YWlscyBv
biBob3cgdG8gYWN0aXZhdGUgaXQuOg11c2VybmFtZTAGOgpAdXNlZHsJOwdU
OwhUOwlUOwpU--7f1570a75c225f2ad6aa71bb975e483abc753c3b
  Parameters: {"action"=>"login", "controller"=>"user"}
Rendering user/login
Completed in 0.08100 (12 reqs/sec) | Rendering: 0.06000 (74%) | DB: 0.00000 (0%) | 200 OK [http://localhost/user/login]


Processing UserController#login (for 127.0.0.1 at 2010-08-22 14:59:10) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--e3443d2caa1ece88c92cc5ab6cafeb37f7a68b13
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "action"=>"login", "controller"=>"user"}
  [4;35;1mUser Columns (0.072000)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.001000)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/hostel
Completed in 0.11300 (8 reqs/sec) | DB: 0.07300 (64%) | 302 Found [http://localhost/user/login]


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 14:59:12) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {}


ActionController::RoutingError (No route matches "/hostel" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 14:59:35) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {}


ActionController::RoutingError (No route matches "/hostel" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-22 14:59:42) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {}


ActionController::RoutingError (No route matches "/hostel/index" with {:method=>:get}):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/recognition_optimisation.rb:67:in `recognize_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/routing/route_set.rb:384:in `recognize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:148:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:00:55) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
  [4;36;1mSQL (0.003000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering hostel/index
Completed in 0.02900 (34 reqs/sec) | Rendering: 0.02100 (72%) | DB: 0.00400 (13%) | 200 OK [http://localhost/hostel/index]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:01:07) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
Completed in 0.03500 (28 reqs/sec) | Rendering: 0.01900 (54%) | DB: 0.00000 (0%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:41:57) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
ERROR: compiling _run_erb_47app47views47hostel47index46rhtml RAISED compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')'
Function body: def _run_erb_47app47views47hostel47index46rhtml(local_assigns)
_erbout = ''; _erbout.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
_erbout.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
_erbout.concat "\n"
_erbout.concat "<html>\n"
_erbout.concat "\n"
_erbout.concat "<head>\n"
_erbout.concat "\t<title>Andrew's Hostel</title>\n"
_erbout.concat "\t"; _erbout.concat(( stylesheet_link_tag "hostel", :media => "all" ).to_s); _erbout.concat "\n"
_erbout.concat "\t"; _erbout.concat(( javascript_include_tag :defaults ).to_s); _erbout.concat "\n"
_erbout.concat "\t\n"
_erbout.concat "</head>\n"
_erbout.concat "<body>\n"
_erbout.concat "<table>\n"
_erbout.concat "\t<tr>\n"
_erbout.concat "\t\t<td>Country: </td>\n"
_erbout.concat "\t\t<td>\n"
_erbout.concat "\t\t\t<select name=\"countries_list\" id=\"countries_list\" onChange=\"\">\n"
_erbout.concat "\t\t\t";  countries = Country.find(:all); _erbout.concat "\n"
_erbout.concat "\t\t\t";  for country in countries ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t<option value=\""; _erbout.concat((#{country.id}).to_s); _erbout.concat "\">"; _erbout.concat((#{country.name}).to_s); _erbout.concat "</option>\n"
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t</select>\n"
_erbout.concat "\t\t</td>\n"
_erbout.concat "\t\t\n"
_erbout.concat "\t</tr>\n"
_erbout.concat "</table>\n"
_erbout.concat "</body>\n"
_erbout.concat "</html>\n"
_erbout
end
Backtrace: D:/hostel/app/views/hostel/index.rhtml:30:in `compile_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')') on line #21 of hostel/index.rhtml:
18: 			<% countries = Country.find(:all)%>
19: 			<% for country in countries %>
20: 				<option value="<%=#{country.id}%>"><%=#{country.name}%></option>
21: 			<% end %>
22: 			</select>
23: 		</td>
24: 		

    app/views/hostel/index.rhtml:30:in `compile_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:42:59) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
ERROR: compiling _run_erb_47app47views47hostel47index46rhtml RAISED compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')'
Function body: def _run_erb_47app47views47hostel47index46rhtml(local_assigns)
_erbout = ''; _erbout.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
_erbout.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
_erbout.concat "\n"
_erbout.concat "<html>\n"
_erbout.concat "\n"
_erbout.concat "<head>\n"
_erbout.concat "\t<title>Andrew's Hostel</title>\n"
_erbout.concat "\t"; _erbout.concat(( stylesheet_link_tag "hostel", :media => "all" ).to_s); _erbout.concat "\n"
_erbout.concat "\t"; _erbout.concat(( javascript_include_tag :defaults ).to_s); _erbout.concat "\n"
_erbout.concat "\t\n"
_erbout.concat "</head>\n"
_erbout.concat "<body>\n"
_erbout.concat "<table>\n"
_erbout.concat "\t<tr>\n"
_erbout.concat "\t\t<td>Country: </td>\n"
_erbout.concat "\t\t<td>\n"
_erbout.concat "\t\t\t<select name=\"countries_list\" id=\"countries_list\" onChange=\"\">\n"
_erbout.concat "\t\t\t";  countries = Country.find(:all); _erbout.concat "\n"
_erbout.concat "\t\t\t";  for country in countries ; _erbout.concat "\n"
_erbout.concat "\t\t\t\t<option value=\""; _erbout.concat((#{country.id}).to_s); _erbout.concat "\">"; _erbout.concat(("#{country.name}").to_s); _erbout.concat "</option>\n"
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t</select>\n"
_erbout.concat "\t\t</td>\n"
_erbout.concat "\t\t\n"
_erbout.concat "\t</tr>\n"
_erbout.concat "</table>\n"
_erbout.concat "</body>\n"
_erbout.concat "</html>\n"
_erbout
end
Backtrace: D:/hostel/app/views/hostel/index.rhtml:30:in `compile_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')') on line #21 of hostel/index.rhtml:
18: 			<% countries = Country.find(:all)%>
19: 			<% for country in countries %>
20: 				<option value="<%=#{country.id}%>"><%="#{country.name}"%></option>
21: 			<% end %>
22: 			</select>
23: 		</td>
24: 		

    app/views/hostel/index.rhtml:30:in `compile_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:43:18) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
ERROR: compiling _run_erb_47app47views47hostel47index46rhtml RAISED compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')'
Function body: def _run_erb_47app47views47hostel47index46rhtml(local_assigns)
_erbout = ''; _erbout.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
_erbout.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
_erbout.concat "\n"
_erbout.concat "<html>\n"
_erbout.concat "\n"
_erbout.concat "<head>\n"
_erbout.concat "\t<title>Andrew's Hostel</title>\n"
_erbout.concat "\t"; _erbout.concat(( stylesheet_link_tag "hostel", :media => "all" ).to_s); _erbout.concat "\n"
_erbout.concat "\t"; _erbout.concat(( javascript_include_tag :defaults ).to_s); _erbout.concat "\n"
_erbout.concat "\t\n"
_erbout.concat "</head>\n"
_erbout.concat "<body>\n"
_erbout.concat "<table>\n"
_erbout.concat "\t<tr>\n"
_erbout.concat "\t\t<td>Country: </td>\n"
_erbout.concat "\t\t<td>\n"
_erbout.concat "\t\t\t<select name=\"countries_list\" id=\"countries_list\" onChange=\"\">\n"
_erbout.concat "\t\t\t";  countries = Country.find(:all); _erbout.concat "\n"
_erbout.concat "\t\t\t";  for country in countries do; _erbout.concat "\n"
_erbout.concat "\t\t\t\t<option value=\""; _erbout.concat((#{country.id}).to_s); _erbout.concat "\">"; _erbout.concat(("#{country.name}").to_s); _erbout.concat "</option>\n"
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t</select>\n"
_erbout.concat "\t\t</td>\n"
_erbout.concat "\t\t\n"
_erbout.concat "\t</tr>\n"
_erbout.concat "</table>\n"
_erbout.concat "</body>\n"
_erbout.concat "</html>\n"
_erbout
end
Backtrace: D:/hostel/app/views/hostel/index.rhtml:30:in `compile_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')') on line #21 of hostel/index.rhtml:
18: 			<% countries = Country.find(:all)%>
19: 			<% for country in countries do%>
20: 				<option value="<%=#{country.id}%>"><%="#{country.name}"%></option>
21: 			<% end %>
22: 			</select>
23: 		</td>
24: 		

    app/views/hostel/index.rhtml:30:in `compile_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:43:50) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
Completed in 0.11100 (9 reqs/sec) | Rendering: 0.10200 (91%) | DB: 0.00100 (0%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:44:14) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
ERROR: compiling _run_erb_47app47views47hostel47index46rhtml RAISED compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')'
Function body: def _run_erb_47app47views47hostel47index46rhtml(local_assigns)
_erbout = ''; _erbout.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
_erbout.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
_erbout.concat "\n"
_erbout.concat "<html>\n"
_erbout.concat "\n"
_erbout.concat "<head>\n"
_erbout.concat "\t<title>Andrew's Hostel</title>\n"
_erbout.concat "\t"; _erbout.concat(( stylesheet_link_tag "hostel", :media => "all" ).to_s); _erbout.concat "\n"
_erbout.concat "\t"; _erbout.concat(( javascript_include_tag :defaults ).to_s); _erbout.concat "\n"
_erbout.concat "\t\n"
_erbout.concat "</head>\n"
_erbout.concat "<body>\n"
_erbout.concat "<table>\n"
_erbout.concat "\t<tr>\n"
_erbout.concat "\t\t<td>Country: </td>\n"
_erbout.concat "\t\t<td>\n"
_erbout.concat "\t\t\t<select name=\"countries_list\" id=\"countries_list\" onChange=\"\">\n"
_erbout.concat "\t\t\t";  countries = Country.find(:all); _erbout.concat "\n"
_erbout.concat "\t\t\t";  for country in countries do; _erbout.concat "\n"
_erbout.concat "\t\t\t\t<option value=\""; _erbout.concat((#{country.id}).to_s); _erbout.concat "\"></option>\n"
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
_erbout.concat "\t\t\t</select>\n"
_erbout.concat "\t\t</td>\n"
_erbout.concat "\t\t\n"
_erbout.concat "\t</tr>\n"
_erbout.concat "</table>\n"
_erbout.concat "</body>\n"
_erbout.concat "</html>\n"
_erbout
end
Backtrace: D:/hostel/app/views/hostel/index.rhtml:30:in `compile_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
script/server:3


ActionView::TemplateError (compile error
D:/hostel/app/views/hostel/index.rhtml:21: syntax error, unexpected kEND, expecting ')'
_erbout.concat "\t\t\t";  end ; _erbout.concat "\n"
                             ^
D:/hostel/app/views/hostel/index.rhtml:30: syntax error, unexpected kEND, expecting ')') on line #21 of hostel/index.rhtml:
18: 			<% countries = Country.find(:all)%>
19: 			<% for country in countries do%>
20: 				<option value="<%=#{country.id}%>"></option>
21: 			<% end %>
22: 			</select>
23: 		</td>
24: 		

    app/views/hostel/index.rhtml:30:in `compile_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:55:in `prepare!'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:34:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:44:57) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
Completed in 0.04100 (24 reqs/sec) | Rendering: 0.03300 (80%) | DB: 0.00100 (2%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:45:42) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.000000)[0m   [0;1mSELECT * FROM `countries` [0m
Completed in 0.08800 (11 reqs/sec) | Rendering: 0.07800 (88%) | DB: 0.00000 (0%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:45:55) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.002000)[0m   [0mSELECT * FROM `countries` [0m
Completed in 0.07200 (13 reqs/sec) | Rendering: 0.05600 (77%) | DB: 0.00200 (2%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:46:22) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
Completed in 0.10400 (9 reqs/sec) | Rendering: 0.09400 (90%) | DB: 0.00100 (0%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:53:38) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.008000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.09300 (10 reqs/sec) | Rendering: 0.06000 (64%) | DB: 0.00900 (9%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:56:10) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10300 (9 reqs/sec) | Rendering: 0.08200 (79%) | DB: 0.00800 (7%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:56:33) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.006000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.033000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10900 (9 reqs/sec) | Rendering: 0.04900 (44%) | DB: 0.03900 (35%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:57:24) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.010000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10400 (9 reqs/sec) | Rendering: 0.08500 (81%) | DB: 0.01100 (10%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:58:27) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.009000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10300 (9 reqs/sec) | Rendering: 0.06500 (63%) | DB: 0.01000 (9%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:59:24) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10700 (9 reqs/sec) | Rendering: 0.09000 (84%) | DB: 0.00800 (7%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 15:59:42) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.002000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.017000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.10000 (9 reqs/sec) | Rendering: 0.05900 (59%) | DB: 0.01900 (18%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:05:43) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.05300 (18 reqs/sec) | Rendering: 0.03900 (73%) | DB: 0.00700 (13%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:06:25) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.000000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.05100 (19 reqs/sec) | Rendering: 0.03800 (74%) | DB: 0.00600 (11%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:06:46) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.000000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.04600 (21 reqs/sec) | Rendering: 0.03200 (69%) | DB: 0.00700 (15%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:22:07) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.005000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.04000 (24 reqs/sec) | Rendering: 0.02700 (67%) | DB: 0.00600 (15%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:22:25) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;35;1mCountry Load (0.001000)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 0.09500 (10 reqs/sec) | Rendering: 0.08900 (93%) | DB: 0.00400 (4%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:22:29) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>nil, "action"=>"getCities", "controller"=>"hostel"}
  [4;35;1mCity Load (0.001000)[0m   [0mSELECT * FROM `cities` WHERE (country_id = NULL) [0m
Completed in 0.01600 (62 reqs/sec) | Rendering: 0.00100 (6%) | DB: 0.00100 (6%) | 200 OK [http://localhost/hostel/getCities?country_id]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:22:59) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.005000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.03900 (25 reqs/sec) | Rendering: 0.02600 (66%) | DB: 0.00600 (15%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:23:03) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>"1", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.001000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.003000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.01600 (62 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00400 (24%) | 200 OK [http://localhost/hostel/getCities?country_id=1]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:23:10) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"country_id"=>"3", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.001000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '3') [0m
  [4;35;1mCity Columns (0.007000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.03100 (32 reqs/sec) | Rendering: 0.00100 (3%) | DB: 0.00800 (25%) | 200 OK [http://localhost/hostel/getCities?country_id=3]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:27:53) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.000000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.002000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.01700 (58 reqs/sec) | Rendering: 0.01200 (70%) | DB: 0.00200 (11%) | 200 OK [http://localhost/hostel]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:28:32) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.000000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.002000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.01700 (58 reqs/sec) | Rendering: 0.01200 (70%) | DB: 0.00200 (11%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:28:35) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>"3", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.001000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '3') [0m
  [4;35;1mCity Columns (0.002000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.10800 (9 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00300 (2%) | 200 OK [http://localhost/hostel/getCities?country_id=3]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:28:44) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"country_id"=>"1", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.001000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.006000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.03600 (27 reqs/sec) | Rendering: 0.00100 (2%) | DB: 0.00700 (19%) | 200 OK [http://localhost/hostel/getCities?country_id=1]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 16:34:15) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.007000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.05900 (16 reqs/sec) | Rendering: 0.04200 (71%) | DB: 0.00800 (13%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 16:34:24) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"country_id"=>"1", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.000000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.006000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.04300 (23 reqs/sec) | Rendering: 0.00200 (4%) | DB: 0.00600 (13%) | 200 OK [http://localhost/hostel/getCities?country_id=1]


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 16:34:27) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"city", "id"=>"value", "controller"=>"hostel"}


ActionController::UnknownAction (No action responded to city):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (not_found)


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 16:36:28) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"city", "id"=>"value", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.064000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.003000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 'value') LIMIT 1[0m
Rendering hostel/city


ActionView::MissingTemplate (Missing template hostel/city.html.erb in view path D:/hostel/app/views):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:85:in `raise_missing_template_exception'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:78:in `set_extension_and_file_name'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:15:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 16:36:33) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"city", "id"=>"value", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.002000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 'value') LIMIT 1[0m
Rendering hostel/city


ActionView::MissingTemplate (Missing template hostel/city.html.erb in view path D:/hostel/app/views):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:85:in `raise_missing_template_exception'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:78:in `set_extension_and_file_name'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:15:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 17:33:35) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"country_id"=>"1", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.002000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.004000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.11800 (8 reqs/sec) | Rendering: 0.00100 (0%) | DB: 0.00600 (5%) | 200 OK [http://localhost/hostel/getCities?country_id=1]


Processing HostelController#index (for 127.0.0.1 at 2010-08-22 17:33:36) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.003000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.01800 (55 reqs/sec) | Rendering: 0.01100 (61%) | DB: 0.00400 (22%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 17:33:40) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"country_id"=>"1", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.001000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.005000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.02600 (38 reqs/sec) | Rendering: 0.00100 (3%) | DB: 0.00600 (23%) | 200 OK [http://localhost/hostel/getCities?country_id=1]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-22 17:33:44) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>"2", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.000000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '2') [0m
  [4;35;1mCity Columns (0.006000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.03800 (26 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00600 (15%) | 200 OK [http://localhost/hostel/getCities?country_id=2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 17:33:46) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.000000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '2') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.052000)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 2) [0m
  [4;35;1mListing Columns (0.003000)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listings (0.06300)
Completed in 0.08700 (11 reqs/sec) | Rendering: 0.01200 (13%) | DB: 0.05800 (66%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 17:34:08) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.000000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '2') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.000000)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 2) [0m
  [4;35;1mListing Columns (0.002000)[0m   [0mSHOW FIELDS FROM `listings`[0m


ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.hook) on line #6 of hostel/_listing.rhtml:
3: <td>
4: 	<ul>
5: 	<li>
6: 	<%=link_to("#{listing.hook}", :controller => hostel, :action => "listing")%>
7: 	</li>
8: 	</ul>
9: </td>

    app/views/hostel/_listing.rhtml:6:in `_run_erb_47app47views47hostel47_listing46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:20:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:19:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:110:in `render_partial'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:273:in `render'
    app/views/hostel/_listings.rhtml:4:in `_run_erb_47app47views47hostel47_listings46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:274:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:274:in `method_missing'
    app/views/hostel/_listings.rhtml:3:in `_run_erb_47app47views47hostel47_listings46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:20:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:19:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:110:in `render_partial'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:273:in `render'
    app/views/hostel/city.rhtml:20:in `_run_erb_47app47views47hostel47city46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:35:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 17:35:42) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.003000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.000000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '2') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.000000)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 2) [0m
  [4;35;1mListing Columns (0.003000)[0m   [0mSHOW FIELDS FROM `listings`[0m


ActionView::TemplateError (undefined local variable or method `hostel' for #<ActionView::Base:0x640085c>) on line #6 of hostel/_listing.rhtml:
3: <td>
4: 	<ul>
5: 	<li>
6: 	<%=link_to("#{listing.hook}", :controller => hostel, :action => "listing")%>
7: 	</li>
8: 	</ul>
9: </td>

    app/views/hostel/_listing.rhtml:6:in `_run_erb_47app47views47hostel47_listing46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:20:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:19:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:28:in `render_member'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:142:in `render_partial_collection_with_known_partial_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:274:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `map'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_proxy.rb:175:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/associations/association_collection.rb:274:in `method_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:141:in `render_partial_collection_with_known_partial_path'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:135:in `render_partial_collection'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:271:in `render'
    app/views/hostel/_listings.rhtml:4:in `_run_erb_47app47views47hostel47_listings46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:20:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:26:in `benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partial_template.rb:19:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/partials.rb:110:in `render_partial'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:273:in `render'
    app/views/hostel/city.rhtml:20:in `_run_erb_47app47views47hostel47city46rhtml'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:338:in `execute'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template_handlers/compilable.rb:29:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:35:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/template.rb:22:in `render_template'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_view/base.rb:245:in `render_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1108:in `render_for_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:841:in `render_with_no_layout'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/layout.rb:259:in `render_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/core_ext/benchmark.rb:8:in `realtime'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:51:in `render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1157:in `default_render'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1163:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 17:36:03) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.006000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.000000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '2') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.001000)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 2) [0m
  [4;35;1mListing Columns (0.002000)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.00100)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00100)
Rendered hostel/_listings (0.01200)
Completed in 0.05200 (19 reqs/sec) | Rendering: 0.01100 (21%) | DB: 0.01200 (23%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-22 17:36:34) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mCity Columns (0.007000)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.001000)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '2') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.000000)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 2) [0m
  [4;35;1mListing Columns (0.003000)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.00100)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listing (0.00000)
Rendered hostel/_listings (0.01200)
Completed in 0.05600 (17 reqs/sec) | Rendering: 0.01100 (19%) | DB: 0.01100 (19%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-23 01:09:00) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>"2", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.029000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '2') [0m
  [4;35;1mCity Columns (0.003000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.05900 (16 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.03200 (54%) | 200 OK [http://localhost/hostel/getCities?country_id=2]


Processing HostelController#index (for 127.0.0.1 at 2010-08-23 01:09:02) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.004000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.05200 (19 reqs/sec) | Rendering: 0.04400 (84%) | DB: 0.00500 (9%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-23 01:09:05) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"country_id"=>"2", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.000000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '2') [0m
  [4;35;1mCity Columns (0.003000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.01700 (58 reqs/sec) | Rendering: 0.00000 (0%) | DB: 0.00300 (17%) | 200 OK [http://localhost/hostel/getCities?country_id=2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 01:09:11) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
Rendering hostel/city
Completed in 0.02700 (37 reqs/sec) | Rendering: 0.01800 (66%) | DB: 0.00000 (0%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 01:11:04) [GET]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
Rendering hostel/city
Completed in 0.16200 (6 reqs/sec) | Rendering: 0.08900 (54%) | DB: 0.00000 (0%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 01:14:14) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.4940.9>, "name"=>"paris_day", "opening_hour"=>"Monday to Friday - 9:30am to 8:08pm", "longtitude"=>"", "latitude"=>"", "hook"=>"Paris day tour", "description"=>"Discover Paris, the \"city of Light\", from the comfort of our panoramic air conditioned motorcoach or from our mini-bus with driver guide with pick up and drop off at your hotel).. This selection includes all day sightseeing tours in paris, Seine cruise and cultural tours.", "city_id"=>"2", "address"=>"156 avenue des Champs-Elysees"}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.110000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.014000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.003000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.086000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x6440d44>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 01:19:53) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjYiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA6DHVzZXJfaWRpBg==--3f912b2420af60c6fa7cb4295aec88411a76f7bb
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.4940.19>, "name"=>"paris_day", "opening_hour"=>"Monday to Friday - 9:30am to 8:08pm", "longtitude"=>"", "latitude"=>"", "hook"=>"Paris day tour", "description"=>"Discover Paris, the \"city of Light\", from the comfort of our panoramic air conditioned motorcoach or from our mini-bus with driver guide with pick up and drop off at your hotel).. This selection includes all day sightseeing tours in paris, Seine cruise and cultural tours.", "city_id"=>"2", "address"=>"156 avenue des Champs-Elysees"}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.006000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.004000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x62d1b20>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 01:30:48) [POST]
  Session ID: BAh7CDoMY3NyZl9pZCIlNWRkMzUxMmI5NTM2NmJlMmM0OTU4ZDgzZmU4NTMx
NjY6DHVzZXJfaWRpBiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxh
c2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA==--9a7d2898c502059fdbb737ffacbf829795e02730
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"4b15acf78f32337878c21f705876a8eda8f25b3d", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.976.9>, "name"=>"paris_day", "opening_hour"=>"Monday to Friday - 9:30am to 8:08pm", "longtitude"=>"", "latitude"=>"", "hook"=>"Paris day tour", "description"=>"Discover Paris, the \"city of Light\", from the comfort of our panoramic air conditioned motorcoach or from our mini-bus with driver guide with pick up and drop off at your hotel).. This selection includes all day sightseeing tours in paris, Seine cruise and cultural tours.", "city_id"=>"2", "address"=>"156 avenue des Champs-Elysees"}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.154000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.043000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.006000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.001000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.004000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5b36618>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)
  [4;36;1mSQL (0.000000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.000000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-23 09:54:47) [GET]
  Session ID: 4b17ef3eb75a1c64796bf2e4602c4cdf
  Parameters: {"action"=>"index", "controller"=>"hostel"}
Rendering hostel/index
  [4;36;1mCountry Load (0.001000)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.004000)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 0.04100 (24 reqs/sec) | Rendering: 0.03100 (75%) | DB: 0.21500 (524%) | 200 OK [http://localhost/hostel]


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-23 09:55:53) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--9b486edcbf0ca50f5682ad390b518135e614369b
  Parameters: {"country_id"=>"2", "action"=>"getCities", "controller"=>"hostel"}
  [4;36;1mCity Load (0.029000)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '2') [0m
  [4;35;1mCity Columns (0.003000)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 0.06000 (16 reqs/sec) | Rendering: 0.00100 (1%) | DB: 0.03200 (53%) | 200 OK [http://localhost/hostel/getCities?country_id=2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 09:55:56) [GET]
  Session ID: BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNo
SGFzaHsABjoKQHVzZWR7AA==--9b486edcbf0ca50f5682ad390b518135e614369b
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
Rendering hostel/city
Completed in 0.01800 (55 reqs/sec) | Rendering: 0.01000 (55%) | DB: 0.00000 (0%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 09:56:14) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.976.9>, "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.000000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.003000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.000000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.002000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5d7aeb0>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 09:59:45) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.001000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.001000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering hostel/city
Completed in 0.03200 (31 reqs/sec) | Rendering: 0.02400 (75%) | DB: 0.00200 (6%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:00:00) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.6924.9>, "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.003000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.050000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.009000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5aefeac>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:00:53) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
Rendering hostel/city
Completed in 0.02300 (43 reqs/sec) | Rendering: 0.01600 (69%) | DB: 0.06400 (278%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:00:58) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>"", "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.003000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.010000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.010000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5c88cf0>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:11:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:01:12) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.6924.9>, "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.009000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.005000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.008000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5d94824>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:11:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:04:10) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
Rendering hostel/city
Completed in 0.32000 (3 reqs/sec) | Rendering: 0.01700 (5%) | DB: 0.04900 (15%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:04:22) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.6924.10>, "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.013000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.003000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.008000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5da3518>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:11:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 10:04:50) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "listing"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI.6924.20>, "name"=>"", "opening_hour"=>"", "longtitude"=>"", "latitude"=>"", "hook"=>"", "description"=>"", "city_id"=>"", "address"=>""}, "action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.002000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.007000)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.003000)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.010000)[0m   [0mSHOW FIELDS FROM `listings`[0m


NoMethodError (undefined method `has_attached_file' for #<Class:0x5e2c69c>):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/base.rb:1667:in `method_missing'
    /app/models/listing.rb:4
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_without_new_constant_marking'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:215:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:214:in `load_file'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:95:in `require_or_load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:260:in `load_missing_constant'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:467:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:479:in `const_missing'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:485:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 11:01:26) [GET]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"action"=>"city", "id"=>"2", "controller"=>"hostel"}
  [4;36;1mSQL (0.002000)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.012000)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
Rendering hostel/city
Completed in 0.02800 (35 reqs/sec) | Rendering: 0.01800 (64%) | DB: 0.01400 (50%) | 200 OK [http://localhost/hostel/city/2]


Processing HostelController#city (for 127.0.0.1 at 2010-08-23 11:01:44) [POST]
  Session ID: BAh7BzoMY3NyZl9pZCIlNmVlMDE2MjYyZmMyMWE4YTBlMzRhYTQ2YjQxMmU2
NjMiCmZsYXNoSUM6J0FjdGlvbkNvbnRyb2xsZXI6OkZsYXNoOjpGbGFzaEhh
c2h7AAY6CkB1c2VkewA=--babaec33d3a6534b03b8956cd5d6cf818d224701
  Parameters: {"commit"=>"Submit", "attachment_metadata"=>{"photo"=>#<File:C:/Users/emma/AppData/Local/Temp/CGI5840-1>}, "authenticity_token"=>"ad0a207fd2a1339a8cdc222acc5bc3517aaaf893", "action"=>"city", "id"=>"2", "controller"=>"hostel"}


NameError (uninitialized constant HostelController::AttachmentMetadataModel):
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:492:in `const_missing'
    /app/controllers/hostel_controller.rb:10:in `city'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:1162:in `perform_action_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:580:in `call_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:573:in `perform_action_without_benchmark'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/1.8/benchmark.rb:293:in `measure'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/rescue.rb:201:in `perform_action_without_caching'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:13:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/connection_adapters/abstract/query_cache.rb:33:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activerecord-2.1.0/lib/active_record/query_cache.rb:8:in `cache'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/caching/sql_cache.rb:12:in `perform_action'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `send'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:529:in `process_without_filters'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/filters.rb:569:in `process_without_session_management_support'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/session_management.rb:130:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/base.rb:389:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:149:in `handle_request'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:107:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:104:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:120:in `dispatch_cgi'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/dispatcher.rb:35:in `dispatch'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:76:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `synchronize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/../lib/mongrel/rails.rb:74:in `process'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:159:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:158:in `process_client'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:285:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `initialize'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `new'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel.rb:268:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:282:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `each'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/configurator.rb:281:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:128:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/lib/mongrel/command.rb:212:in `run'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.2-x86-mswin32/bin/mongrel_rails:281
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:502:in `load'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/servers/mongrel.rb:64
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:354:in `new_constants_in'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/activesupport-2.1.0/lib/active_support/dependencies.rb:509:in `require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/rails-2.1.0/lib/commands/server.rb:39
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `gem_original_require'
    C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:27:in `require'
    script/server:3

Rendering C:/Emma/sotfware/InstantRails-2.0-win/ruby/lib/ruby/gems/1.8/gems/actionpack-2.1.0/lib/action_controller/templates/rescues/layout.erb (internal_server_error)
  [4;36;1mSQL (16.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (46.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: query: not connected: CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: query: not connected: CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: query: not connected: CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (62.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (125.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `schema_migrations`[0m
  [4;35;1mSQL (141.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `username` varchar(255), `email` varchar(255), `hashed_password` varchar(255), `activation_code` varchar(255), `temp_pass` varchar(255), `temp_pass_active` varchar(255), `created_at` datetime, `updated_at` datetime) charset=utf8[0m
  [4;35;1mSQL (47.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718212501')[0m
Migrating to CreateGroups (20100718212751)
  [4;36;1mSQL (78.0ms)[0m   [0;1mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hook` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) charset=utf8[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718212751')[0m
Migrating to CreateUsersGroups (20100718214027)
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE `users_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `group_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718214027')[0m
Migrating to CreateCountries (20100718214432)
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE `countries` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `latitude` float, `longtitude` float, `created_at` datetime, `updated_at` datetime) charset=utf8[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718214432')[0m
Migrating to CreateCities (20100718215154)
  [4;36;1mSQL (62.0ms)[0m   [0;1mCREATE TABLE `cities` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `latitude` float, `longtitude` float, `created_at` datetime, `updated_at` datetime) charset=utf8[0m
  [4;35;1mSQL (32.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718215154')[0m
Migrating to CreateListings (20100718215709)
  [4;36;1mSQL (140.0ms)[0m   [0;1mCREATE TABLE `listings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hook` varchar(255), `description` varchar(255), `address` varchar(255), `opening_hour` varchar(255), `longtitude` float, `latitude` float, `created_at` datetime, `updated_at` datetime) charset=utf8[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100718215709')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (32.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `countries`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `countries`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `listings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `users_groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `users_groups`[0m
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-26 16:28:43) [GET]
Rendering hostel/index
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://localhost/hostel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-26 16:41:32) [GET]
Rendering hostel/index
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` [0m
  [4;36;1mCountry Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 31, DB: 16) | 200 OK [http://localhost/hostel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-26 16:42:06) [GET]
Rendering hostel/index
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/hostel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-26 16:42:13) [GET]
  Parameters: {"country_id"=>"1"}
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 203ms (View: 0, DB: 15) | 200 OK [http://localhost/hostel/getCities?country_id=1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 16:42:18) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 297ms (View: 297, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 16:57:09) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 16:57:18) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4868.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4868,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4868,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4868,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4868,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 343ms (View: 15, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:20:29) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:20:40) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:20:49) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.2228.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2228,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2228,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2228,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2228,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 312ms (View: 0, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:26:19) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:26:24) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.5280.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5280,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5280,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5280,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5280,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 328ms (View: 0, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:39:07) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:39:14) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.5684.0>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5684,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5684,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5684,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5684,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 343ms (View: 0, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:45:36) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:45:38) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `address`, `created_at`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, '2010-08-26 09:45:38', NULL, NULL, NULL, NULL, '2010-08-26 09:45:38')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
Rendering hostel/city
Completed in 125ms (View: 16, DB: 47) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:45:46) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4536.1>}, "id"=>"1"}
  [4;36;1mListing Columns (31.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 359ms (View: 0, DB: 31) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:49:05) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 17:50:12) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4536.2>}, "id"=>"1"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4536,0.jpg is not recognized by the 'identify' command.>
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
Rendering hostel/city
Completed in 406ms (View: 0, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:03:56) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:04:01) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.2796.0>}, "id"=>"1"}

SyntaxError (C:/Rails/hostel/app/models/listing.rb:6: syntax error, unexpected kEND):
  app/controllers/hostel_controller.rb:10:in `city'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:04:27) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.2796.1>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `address`, `created_at`) VALUES(NULL, NULL, NULL, NULL, '1.jpg', 49773, '2010-08-26 10:04:27', NULL, NULL, 'image/jpeg', NULL, '2010-08-26 10:04:27')[0m
[paperclip] Saving attachments.
[paperclip] saving C:/Rails/hostel/public/system/photos/2/original/1.jpg
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering hostel/city
Completed in 204ms (View: 0, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:06:37) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.2796.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2796,1.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2796,1.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2796,1.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2796,1.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 250ms (View: 0, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:08:16) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:08:19) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `address`, `created_at`) VALUES(NULL, NULL, NULL, NULL, NULL, NULL, '2010-08-26 10:08:19', NULL, NULL, NULL, NULL, '2010-08-26 10:08:19')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (15.0ms)[0m   [0mCOMMIT[0m
Rendering hostel/city
Completed in 78ms (View: 16, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:08:23) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.2668.1>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2668,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2668,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2668,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,2668,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:09:01) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:09:06) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4484.0>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4484,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4484,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4484,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4484,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 328ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (16.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:16:16) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 32ms (View: 16, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:16:21) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.488.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,488,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,488,0.jpg is not recognized by the 'identify' command.>
[paperclip] identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,488,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,488,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 329ms (View: 0, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:17:52) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:17:57) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.220.0>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,220,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,220,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify '-format' '%wx%h' 'C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,220,0.jpg[0]' 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,220,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:22:56) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:23:01) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.5676.0>}, "id"=>"1"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5676,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5676,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5676,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5676,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 281ms (View: 0, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:23:57) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:24:01) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.5548.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5548,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5548,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5548,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,5548,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 265ms (View: 15, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:24:32) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:24:57) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:25:01) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4072.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4072,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4072,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4072,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4072,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 235ms (View: 16, DB: 16) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:25:45) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:25:52) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4620.0>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4620,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4620,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4620,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4620,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 265ms (View: 15, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:32:53) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:32:59) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.4876.0>}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4876,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4876,0.jpg is not recognized by the 'identify' command.>
[paperclip] C:\Program Files\ImageMagick-6.6.3-Q16/identify "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4876,0.jpg[0]" 2>NUL
[paperclip] An error was received while processing: #<Paperclip::NotIdentifiedByImageMagickError: C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,4876,0.jpg is not recognized by the 'identify' command.>
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
Rendering hostel/city
Completed in 250ms (View: 0, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:39:10) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 18:39:14) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.6016.0>}, "id"=>"1"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "100x" "-crop" "100x100+0+3" "+repage" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,0" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "150x150>" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,1" 2>NUL
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `address`, `created_at`) VALUES(NULL, NULL, NULL, NULL, '1.jpg', 49773, '2010-08-26 10:39:15', NULL, NULL, 'image/jpeg', NULL, '2010-08-26 10:39:15')[0m
[paperclip] Saving attachments.
[paperclip] saving C:/Rails/hostel/public/system/photos/4/thumb/1.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/4/small/1.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/4/original/1.jpg
  [4;35;1mSQL (16.0ms)[0m   [0mCOMMIT[0m
Rendering hostel/city
Completed in 1265ms (View: 15, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 20:51:24) [GET]
  Parameters: {"id"=>"1"}
Rendering hostel/city
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 20:56:42) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.6016.1>, "opening_hour"=>"10 .00 , 11:30 AM, 2.30 PM.", "name"=>"paris_day_1", "hook"=>"Cityrama tour", "description"=>"Type of tour : Half day tour Starting Point: Tour Agency near the Louvre (address on confirmation) Type of Bus: Motorcoach Duration : 1 and half hour ", "address"=>"Tour Agency near the Louvre (address on confirmation) "}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" "-resize" "100x" "-crop" "100x100+0+26" "+repage" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1,6016,0" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" "-resize" "150x150>" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1,6016,1" 2>NUL
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `address`, `created_at`) VALUES('paris_day_1', '10 .00 , 11:30 AM, 2.30 PM.', NULL, NULL, '1.jpg', 38277, '2010-08-26 12:56:43', 'Cityrama tour', 'Type of tour : Half day tour Starting Point: Tour Agency near the Louvre (address on confirmation) Type of Bus: Motorcoach Duration : 1 and half hour ', 'image/jpeg', 'Tour Agency near the Louvre (address on confirmation) ', '2010-08-26 12:56:43')[0m
[paperclip] Saving attachments.
[paperclip] saving C:/Rails/hostel/public/system/photos/5/thumb/1.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/5/small/1.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/5/original/1.jpg
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m

NoMethodError (undefined method `city_id=' for #<Listing:0x4634bac>):
  app/controllers/hostel_controller.rb:11:in `city'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 20:59:38) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.6016.0>, "opening_hour"=>"9AM", "name"=>"paris_day_2", "hook"=>"Paris Express", "description"=>"  This city coach tour will give you the unique opportunity to discover Paris, its history and its major landmarks: Opera Square, Concorde Square, Champs-Elysees, Arch of Triumph, Trocadero Square, Eiffel Tower (photo stop), Invalides, Pont-Neuf, Bastille Square and the new Opera House, Notre-Dame de Paris Cathedral, Luxembourg Gardens, Saint-Germain-des-Pres   ", "address"=>"  Tour Agency near the Louvre (address on confirmation) "}, "id"=>"1"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "x100" "-crop" "100x100+20+0" "+repage" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,0" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "150x150>" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,1" 2>NUL
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (0.0ms)[0m   [0;1mMysql::Error: Data too long for column 'description' at row 1: INSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `city_id`, `address`, `created_at`) VALUES('paris_day_2', '9AM', NULL, NULL, '2.jpg', 10874, '2010-08-26 12:59:39', 'Paris Express', ' This city coach tour will give you the unique opportunity to discover Paris, its history and its major landmarks: Opera Square, Concorde Square, Champs-Elysees, Arch of Triumph, Trocadero Square, Eiffel Tower (photo stop), Invalides, Pont-Neuf, Bastille Square and the new Opera House, Notre-Dame de Paris Cathedral, Luxembourg Gardens, Saint-Germain-des-Pres ', 'image/jpeg', NULL, ' Tour Agency near the Louvre (address on confirmation) ', '2010-08-26 12:59:39')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m

ActiveRecord::StatementInvalid (Mysql::Error: Data too long for column 'description' at row 1: INSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `city_id`, `address`, `created_at`) VALUES('paris_day_2', '9AM', NULL, NULL, '2.jpg', 10874, '2010-08-26 12:59:39', 'Paris Express', '  This city coach tour will give you the unique opportunity to discover Paris, its history and its major landmarks: Opera Square, Concorde Square, Champs-Elysees, Arch of Triumph, Trocadero Square, Eiffel Tower (photo stop), Invalides, Pont-Neuf, Bastille Square and the new Opera House, Notre-Dame de Paris Cathedral, Luxembourg Gardens, Saint-Germain-des-Pres   ', 'image/jpeg', NULL, '  Tour Agency near the Louvre (address on confirmation) ', '2010-08-26 12:59:39')):
  app/controllers/hostel_controller.rb:10:in `city'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:00:26) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.6016.2>, "opening_hour"=>"9AM", "name"=>"paris_day_2", "hook"=>"Paris Express", "description"=>"  This city coach tour will give you the unique opportunity to discover Paris, its history and its major landmarks: Opera Square, Concorde Square, Champs-Elysees, Arch of Triumph, Trocadero Square, Eiffel Tower (photo stop), Invalides, Pont-Neuf, Bastille Square and the new Opera House, Notre-Dame de Paris Cathedral, Luxembourg Gardens, Saint-Germain-des-Pres   ", "address"=>"  Tour Agency near the Louvre (address on confirmation) "}, "id"=>"1"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" "-resize" "x100" "-crop" "100x100+20+0" "+repage" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1,6016,0" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1.jpg[0]" "-resize" "150x150>" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,1,6016,1" 2>NUL
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Create (15.0ms)[0m   [0;1mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `city_id`, `address`, `created_at`) VALUES('paris_day_2', '9AM', NULL, NULL, '2.jpg', 10874, '2010-08-26 13:00:26', 'Paris Express', ' This city coach tour will give you the unique opportunity to discover Paris, its history and its major landmarks: Opera Square, Concorde Square, Champs-Elysees, Arch of Triumph, Trocadero Square, Eiffel Tower (photo stop), Invalides, Pont-Neuf, Bastille Square and the new Opera House, Notre-Dame de Paris Cathedral, Luxembourg Gardens, Saint-Germain-des-Pres ', 'image/jpeg', NULL, ' Tour Agency near the Louvre (address on confirmation) ', '2010-08-26 13:00:26')[0m
[paperclip] Saving attachments.
[paperclip] saving C:/Rails/hostel/public/system/photos/6/thumb/2.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/6/small/2.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/6/original/2.jpg
  [4;35;1mSQL (16.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListing Update (0.0ms)[0m   [0mUPDATE `listings` SET `updated_at` = '2010-08-26 13:00:27', `city_id` = 1 WHERE `id` = 6[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (15.0ms)[0m   [0;1mCOMMIT[0m
Rendering hostel/city
Completed in 922ms (View: 16, DB: 61) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:03:26) [POST]
  Parameters: {"commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "listing"=>{"photo"=>#<File:C:/DOCUME~1/dcsntd/LOCALS~1/Temp/RackMultipart.6016.0>, "opening_hour"=>"9AM", "name"=>"paris_day_3", "hook"=>"PARIS VISION TOUR", "description"=>"This excursion will give you the opportunity to discover Paris, its history and famous landmarks with a coach tour of the city (1h30) followed by an hour’s commented cruise on the Seine. You will learn about the history of Paris and admire the chief squares, bridges, main streets and buildings: the Opera square, Concorde square, Champs-Elysees, Arch of Triumph, Trocadero square, Eiffel Tower, Invalides, Pont-Neuf, Bastille square and Opera, Notre-Dame cathedral, Luxembourg gardens and Saint-Germain-des-Pres… ", "address"=>"  Tour Agency near the Louvre (address on confirmation) "}, "id"=>"1"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "100x" "-crop" "100x100+0+1" "+repage" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,0" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/identify" "-format" "%wx%h" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" 2>NUL
[paperclip] "C:\Program Files\ImageMagick-6.6.3-Q16/convert" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0.jpg[0]" "-resize" "150x150>" "C:/DOCUME~1/dcsntd/LOCALS~1/Temp/stream,6016,0,6016,1" 2>NUL
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListing Create (0.0ms)[0m   [0mINSERT INTO `listings` (`name`, `opening_hour`, `longtitude`, `latitude`, `photo_file_name`, `photo_file_size`, `updated_at`, `hook`, `description`, `photo_content_type`, `city_id`, `address`, `created_at`) VALUES('paris_day_3', '9AM', NULL, NULL, '3.jpg', 28282, '2010-08-26 13:03:26', 'PARIS VISION TOUR', 'This excursion will give you the opportunity to discover Paris, its history and famous landmarks with a coach tour of the city (1h30) followed by an hour’s commented cruise on the Seine. You will learn about the history of Paris and admire the chief squares, bridges, main streets and buildings: the Opera square, Concorde square, Champs-Elysees, Arch of Triumph, Trocadero square, Eiffel Tower, Invalides, Pont-Neuf, Bastille square and Opera, Notre-Dame cathedral, Luxembourg gardens and Saint-Germain-des-Pres… ', 'image/jpeg', NULL, ' Tour Agency near the Louvre (address on confirmation) ', '2010-08-26 13:03:26')[0m
[paperclip] Saving attachments.
[paperclip] saving C:/Rails/hostel/public/system/photos/7/thumb/3.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/7/small/3.jpg
[paperclip] saving C:/Rails/hostel/public/system/photos/7/original/3.jpg
  [4;36;1mSQL (15.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListing Update (0.0ms)[0m   [0;1mUPDATE `listings` SET `updated_at` = '2010-08-26 13:03:26', `city_id` = 1 WHERE `id` = 7[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering hostel/city
Completed in 922ms (View: 15, DB: 47) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:05:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #4 of app/views/hostel/_listing.rhtml:
1: <tr>
2: <td></td>
3: <td>
4: 	<%=link_to("#{listing.hook}", :controller => "hostel", :action => "listing")%>
5: </td>
6: </tr>

    app/views/hostel/_listing.rhtml:4:in `_run_rhtml_app47views47hostel47_listing46rhtml_locals_listing_object'
    app/views/hostel/city.rhtml:14:in `_run_rhtml_app47views47hostel47city46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:07:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (15.0ms)
Completed in 109ms (View: 47, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:08:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (15.0ms)
Completed in 62ms (View: 31, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:09:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m

ActionView::TemplateError (undefined method `photo' for nil:NilClass) on line #4 of app/views/hostel/_listing.rhtml:
1: <tr>
2: <td></td>
3: <td>
4: 	<%= image_tag @user.photo.url(:thumb) %>
5: 	<%=link_to("#{listing.hook}", :controller => "hostel", :action => "listing")%>
6: </td>
7: </tr>

    app/views/hostel/_listing.rhtml:4:in `_run_rhtml_app47views47hostel47_listing46rhtml_locals_listing_listing_counter_object'
    app/views/hostel/_listings.rhtml:4:in `_run_rhtml_app47views47hostel47_listings46rhtml_locals_listings_object'
    app/views/hostel/city.rhtml:14:in `_run_rhtml_app47views47hostel47city46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (16.0ms)
Rendered hostel/_listings (125.0ms)
Completed in 203ms (View: 110, DB: 30) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:11:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (16.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (32.0ms)
Completed in 63ms (View: 16, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#listing (for 127.0.0.1 at 2010-08-26 21:21:24) [GET]

ActionController::UnknownAction (No action responded to listing. Actions: city, getCities, and index):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-26 21:24:44) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering hostel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/hostel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#index (for 127.0.0.1 at 2010-08-26 21:30:31) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering hostel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 15, DB: 0) | 200 OK [http://localhost/hostel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#getCities (for 127.0.0.1 at 2010-08-26 21:30:34) [GET]
  Parameters: {"country_id"=>"1"}
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/hostel/getCities?country_id=1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:30:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (15.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (31.0ms)
Completed in 62ms (View: 15, DB: 31) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:31:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (15.0ms)
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:34:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (15.0ms)
Completed in 62ms (View: 31, DB: 15) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-26 21:34:06) [GET]

ActionController::RoutingError (No route matches "/listing/index/5" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 21:34:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 93ms (View: 15, DB: 15) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 21:50:54) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 94ms (View: 62, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-26 21:52:01) [GET]
Rendering user/login
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/user/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:53:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (15.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (125.0ms)
Completed in 187ms (View: 140, DB: 0) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:53:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (15.0ms)
Rendered hostel/_listings (31.0ms)
Completed in 78ms (View: 31, DB: 31) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:54:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (32.0ms)
Completed in 63ms (View: 16, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HostelController#city (for 127.0.0.1 at 2010-08-26 21:54:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering hostel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listing (16.0ms)
Rendered hostel/_listing (0.0ms)
Rendered hostel/_listings (110.0ms)
Completed in 219ms (View: 125, DB: 32) | 200 OK [http://localhost/hostel/city/1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 21:55:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 32ms (View: 0, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 21:55:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 46ms (View: 15, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:00:34) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 47ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:01:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 47ms (View: 15, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:01:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 32ms (View: 16, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:11:14) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 32ms (View: 0, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:11:37) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
Rendering listing/index
Completed in 31ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:12:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 62ms (View: 15, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:12:41) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '6') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 63ms (View: 16, DB: 31) | 200 OK [http://localhost/listing/index/6]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:46:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m

NameError (uninitialized constant ListingController::GMap):
  app/controllers/listing_controller.rb:6:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:49:33) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 188ms (View: 78, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:50:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 172ms (View: 31, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-26 22:50:56) [GET]

ActionController::RoutingError (No route matches "/javascripts/ym4r-gm.js" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:51:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 78ms (View: 16, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-26 22:51:03) [GET]

ActionController::RoutingError (No route matches "/javascripts/ym4r-gm.js" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:53:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 141ms (View: 0, DB: 47) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:53:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 63ms (View: 16, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:53:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 78ms (View: 16, DB: 62) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:54:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index

ActionView::TemplateError (undefined method `to_html' for nil:NilClass) on line #25 of app/views/listing/index.rhtml:
22: </table>
23: <table style="margin-top: 20px;" width="90%" align="center">
24: <tr><th><%=GMap.header%></th></tr>
25: <tr><td><%= @map.to_html %></td></tr>
26: </table>
27: 
28: </body>

    app/views/listing/index.rhtml:25:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (93.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:54:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index

ActionView::TemplateError (undefined method `to_html' for nil:NilClass) on line #25 of app/views/listing/index.rhtml:
22: </table>
23: <table style="margin-top: 20px;" width="90%" align="center">
24: <tr><th><%=GMap.header%></th></tr>
25: <tr><td><%= @map.to_html %></td></tr>
26: </table>
27: 
28: </body>

    app/views/listing/index.rhtml:25:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:55:10) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 187ms (View: 31, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:56:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 78ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:59:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 172ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:59:51) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 63ms (View: 16, DB: 0) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:59:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 22:59:59) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 62ms (View: 15, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:00:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:02:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 62ms (View: 15, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:07:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 125ms (View: 16, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:07:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:18:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 172ms (View: 32, DB: 0) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:19:00) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/hostel/app/views/listing/index.rhtml:39: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/hostel/app/views/listing/index.rhtml:41: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Hostel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "hostel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "hostel/hostelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((#{GMap.header}).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat(( @map.div(:width => 600, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/hostel/app/views/listing/index.rhtml:41:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/hostel/app/views/listing/index.rhtml:39: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/hostel/app/views/listing/index.rhtml:41: syntax error, unexpected kEND, expecting ')') on line #39 of app/views/listing/index.rhtml:
36: </body>
37: </html>

    app/views/listing/index.rhtml:41:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:19:14) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 94ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:19:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 156ms (View: 16, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:22:32) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 62ms (View: 15, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:23:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 62ms (View: 15, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:24:30) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 46ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:24:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:24:45) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 46ms (View: 0, DB: 15) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:26:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Rendering listing/index
Completed in 63ms (View: 16, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:40:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m

NoMethodError (undefined method `include' for #<ListingController:0x4603ea8>):
  app/controllers/listing_controller.rb:6:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:41:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m

NameError (uninitialized constant ListingController::GoogleGeocoder):
  app/controllers/listing_controller.rb:7:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:41:06) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m

NameError (uninitialized constant ListingController::GoogleGeocoder):
  app/controllers/listing_controller.rb:7:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:44:39) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mSQL (31.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m

NameError (undefined local variable or method `acts_as_mappable' for #<Class:0x460e844>):
  app/models/listing.rb:3
  app/controllers/listing_controller.rb:4:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:53:19) [GET]
  Parameters: {"id"=>"5"}

SyntaxError (C:/Rails/hostel/app/models/listing.rb:16: syntax error, unexpected tASSOC, expecting kEND
		=> #<Geokit::GeoLoc:0x558ed0 ...
		  ^):
  app/controllers/listing_controller.rb:4:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:53:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 735ms (View: 16, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:56:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 797ms (View: 15, DB: 0) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-26 23:56:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 734ms (View: 15, DB: 16) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 00:05:34) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListing Update (0.0ms)[0m   [0mUPDATE `listings` SET `address` = '198 Rue de Rivoli, 75001 Paris, France', `updated_at` = '2010-08-26 16:05:34' WHERE `id` = 5[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (125.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
Completed in 1000ms (View: 16, DB: 141) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 00:06:07) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 922ms (View: 141, DB: 31) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 00:06:37) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 781ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 00:14:13) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 874ms (View: 15, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to CreateTags (20100827015313)
  [4;36;1mSQL (109.0ms)[0m   [0;1mCREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100827015313')[0m
Migrating to CreateListingsTags (20100827015344)
  [4;36;1mSQL (79.0ms)[0m   [0;1mCREATE TABLE `listings_tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `listing_id` int(11), `tag_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100827015344')[0m
Migrating to ActsAsTaggableMigration (20100827063644)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'tags' already exists: CREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE `tags` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCREATE TABLE `taggings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `tag_id` int(11), `taggable_id` int(11), `taggable_type` varchar(255), `created_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `taggings`[0m
  [4;35;1mSQL (156.0ms)[0m   [0mCREATE INDEX `index_taggings_on_tag_id` ON `taggings` (`tag_id`)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `taggings`[0m
  [4;35;1mSQL (156.0ms)[0m   [0mCREATE INDEX `index_taggings_on_taggable_id_and_taggable_type` ON `taggings` (`taggable_id`, `taggable_type`)[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20100827063644')[0m
Migrating to AddPhotoToListing (20100827063857)
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Duplicate column name 'photo_file_name': ALTER TABLE `listings` ADD `photo_file_name` varchar(255)[0m
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Fri Aug 27 15:12:18 +0800 2010
  Status: 500 Internal Server Error
  Expected C:/Rails/travel/app/helpers/travel_helper.rb to define TravelHelper
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:137:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:120:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Rails/travel/app/controllers/application_controller.rb:5
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Fri Aug 27 15:14:16 +0800 2010
  Status: 500 Internal Server Error
  Expected C:/Rails/travel/app/helpers/travel_helper.rb to define TravelHelper
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:137:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:120:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Rails/travel/app/controllers/application_controller.rb:5
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Fri Aug 27 15:14:21 +0800 2010
  Status: 500 Internal Server Error
  Expected C:/Rails/travel/app/helpers/travel_helper.rb to define TravelHelper
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:137:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:120:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Rails/travel/app/controllers/application_controller.rb:5
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Fri Aug 27 15:16:25 +0800 2010
  Status: 500 Internal Server Error
  Expected C:/Rails/travel/app/helpers/travel_helper.rb to define TravelHelper
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:137:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:120:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Rails/travel/app/controllers/application_controller.rb:5
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Fri Aug 27 15:16:35 +0800 2010
  Status: 500 Internal Server Error
  Expected C:/Rails/travel/app/helpers/travel_helper.rb to define TravelHelper
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:364:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/inflector.rb:363:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:137:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:120:in `helper'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/helpers.rb:115:in `helper'
    C:/Rails/travel/app/controllers/application_controller.rb:5
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
    C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:17:48) [GET]
Rendering travel/index
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:18:48) [GET]
Rendering travel/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #27 of app/views/travel/index.rhtml:
24: 			<select name="countries_list" id="countries_list" onChange="displayCity();">
25: 			
26: 			<option value="-1">Choose a country</option>
27: 			<% for country in @countries do%>
28: 				<option value='<%="#{country.id}"%>'><%="#{country.name}"%></option>
29: 			<% end %>
30: 			</select>

    app/views/travel/index.rhtml:27:in `_run_rhtml_app47views47travel47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:19:06) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:22:26) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 78ms (View: 47, DB: 15) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:22:37) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:24:05) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 15, DB: 16) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:24:08) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:24:27) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:24:48) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 31ms (View: 16, DB: 15) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:26:09) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:26:48) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://localhost/travel/index]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:32:07) [GET]
Rendering user/register
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 15:32:08) [GET]

ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:32:28) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"thuydung", "username"=>"emma.nguyen", "password"=>"thuydung", "email"=>"nazia201@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'nazia201@yahoo.com') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`username` = BINARY 'emma.nguyen') LIMIT 1[0m
  [4;35;1mUser Create (0.0ms)[0m   [0mINSERT INTO `users` (`updated_at`, `hashed_password`, `temp_pass_active`, `username`, `activation_code`, `email`, `temp_pass`, `created_at`) VALUES('2010-08-27 07:32:28', '8147571ad5d39cfe6d86a7326a956180', NULL, 'emma.nguyen', 'nwia4vizfmw3ay2mpj36o3cyb8reg0sm', 'nazia201@yahoo.com', NULL, '2010-08-27 07:32:28')[0m
Sent mail to nazia201@yahoo.com

Date: Fri, 27 Aug 2010 15:32:28 +0800
From: andrew.hostel@gmail.com
To: nazia201@yahoo.com
Subject: Andrew's Hostel Signup Notification
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Dear emma.nguyen,
This is your activation link to join our website. In order to confirm your membership please click on the following link:

Thank you for joining.

Andrew's Hostel
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendering user/register
Completed in 1343ms (View: 0, DB: 61) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 15:32:29) [GET]

ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:35:46) [GET]
Rendering user/register
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:38:07) [GET]
Rendering user/register
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:38:22) [GET]
Rendering user/register
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:46:48) [GET]
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;36;1mCountry Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 15, DB: 0) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 15:47:29) [GET]
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;36;1mCountry Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 15:48:10) [GET]
Rendering user/login
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://localhost/user/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 15:50:26) [GET]
Rendering user/login
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://localhost/user/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 15:50:30) [GET]
Rendering user/register
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://localhost/user/register]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:05:18) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 16:05:21) [GET]
Rendering user/login
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/user/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 16:05:27) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/travel
Completed in 156ms (DB: 16) | 302 Found [http://localhost/user/login]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:05:28) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 125ms (View: 31, DB: 47) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:05:57) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (31.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 141ms (View: 47, DB: 62) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:06:13) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 110ms (View: 63, DB: 15) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:06:24) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 203ms (View: 47, DB: 15) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:06:33) [GET]
  Parameters: {"country_id"=>"1"}

ActionController::RoutingError (No route matches "/hostel/getCities" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:06:40) [GET]
  Parameters: {"country_id"=>"2"}

ActionController::RoutingError (No route matches "/hostel/getCities" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:06:41) [GET]
  Parameters: {"country_id"=>"3"}

ActionController::RoutingError (No route matches "/hostel/getCities" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:07:15) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 93ms (View: 30, DB: 32) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#getCities (for 127.0.0.1 at 2010-08-27 16:07:18) [GET]
  Parameters: {"country_id"=>"1"}
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 172ms (View: 16, DB: 16) | 200 OK [http://localhost/travel/getCities?country_id=1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:07:19) [GET]

ActionController::RoutingError (No route matches "/hostel/city/1" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:07:39) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 219ms (View: 172, DB: 16) | 200 OK [http://localhost/travel]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#getCities (for 127.0.0.1 at 2010-08-27 16:07:42) [GET]
  Parameters: {"country_id"=>"1"}
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://localhost/travel/getCities?country_id=1]
DEPRECATION WARNING: Giving :session_key to SessionStore is deprecated, please use :key instead. (called from new at C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/middleware_stack.rb:72)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-27 16:07:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m

RuntimeError (acts_as_taggable_on_steroids has been moved to github: http://github.com/jviney/acts_as_taggable_on_steroids):
  app/models/listing.rb:4
  app/controllers/travel_controller.rb:13:in `city'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:11:24) [GET]
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 187ms (View: 125, DB: 31) | 200 OK [http://localhost/travel]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-27 16:11:29) [GET]

ActionController::UnknownAction (No action responded to logout. Actions: activate, login, and register):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-27 16:13:24) [GET]
Redirected to http://localhost:3000/user/login
Completed in 16ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 16:13:24) [GET]
Rendering user/login
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 16:13:33) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/travel
Completed in 31ms (DB: 31) | 302 Found [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-08-27 16:13:33) [GET]
  [4;36;1mCountry Load (16.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCountry Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 63ms (View: 31, DB: 16) | 200 OK [http://localhost/travel]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#getCities (for 127.0.0.1 at 2010-08-27 16:13:40) [GET]
  Parameters: {"country_id"=>"1"}
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (country_id = '1') [0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
Completed in 79ms (View: 16, DB: 16) | 200 OK [http://localhost/travel/getCities?country_id=1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-27 16:13:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m

RuntimeError (acts_as_taggable_on_steroids has been moved to github: http://github.com/jviney/acts_as_taggable_on_steroids):
  app/models/listing.rb:4
  app/controllers/travel_controller.rb:13:in `city'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (265.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-27 16:28:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering travel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered travel/_listing (78.0ms)
Rendered travel/_listing (0.0ms)
Rendered travel/_listing (0.0ms)
Rendered travel/_listings (110.0ms)
Completed in 266ms (View: 109, DB: 16) | 200 OK [http://localhost/travel/city/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:28:35) [GET]

ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:28:35) [GET]

ActionController::RoutingError (No route matches "/javascripts/hostel/hostelHelper.js" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-27 16:29:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering travel/city
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered travel/_listing (0.0ms)
Rendered travel/_listing (0.0ms)
Rendered travel/_listing (0.0ms)
Rendered travel/_listings (16.0ms)
Completed in 78ms (View: 31, DB: 16) | 200 OK [http://localhost/travel/city/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:29:32) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 781ms (View: 15, DB: 0) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:29:33) [GET]

ActionController::RoutingError (No route matches "/stylesheets/hostel.css" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 16:29:33) [GET]

ActionController::RoutingError (No route matches "/javascripts/hostel/hostelHelper.js" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:30:07) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 750ms (View: 63, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:32:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 657ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:33:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 750ms (View: 15, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:34:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 750ms (View: 78, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:36:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (47.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #33 of app/views/listing/index.rhtml:
30: 		<%= @map.div(:width => 600, :height => 400) %>
31: 		</td>
32: 		<td width="50%">
33: 			<% form_for @post do |f| %> 
34: 			<label>Add tag:</label>&nbsp;<%= f.text_field :tag_list %>
35: 			<% end %> 
36: 			

    app/views/listing/index.rhtml:33:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:37:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index

ActionView::TemplateError (undefined method `listing_path' for #<ActionView::Base:0x43d38f4>) on line #33 of app/views/listing/index.rhtml:
30: 		<%= @map.div(:width => 600, :height => 400) %>
31: 		</td>
32: 		<td width="50%">
33: 			<% form_for @listing do |f| %> 
34: 			<label>Add tag:</label>&nbsp;<%= f.text_field :tag_list %>
35: 			<% end %> 
36: 			

    app/views/listing/index.rhtml:33:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:43:10) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 891ms (View: 16, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:44:18) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 703ms (View: 15, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:44:39) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 704ms (View: 16, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:45:06) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (32.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ; @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 600, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "40" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  submit_tag "Submit">
			<% end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:50:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ; @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND) on line #36 of app/views/listing/index.rhtml:
33: 			<% form_tag do %> 
34: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "40" %>
35: 			<% submit_tag "Submit">
36: 			<% end %> 
37: 			
38: 		</td>
39: 	

    app/views/listing/index.rhtml:50:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:45:16) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ).to_s); @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 600, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "40" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_tag "Submit">
			<% end ).to_s); @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:50:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ).to_s); @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND) on line #36 of app/views/listing/index.rhtml:
33: 			<% form_tag do %> 
34: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "40" %>
35: 			<%= submit_tag "Submit">
36: 			<% end %> 
37: 			
38: 		</td>
39: 	

    app/views/listing/index.rhtml:50:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (188.0ms)
Rendered rescues/_request_and_response (15.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:45:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ).to_s); @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 600, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "40" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_tag "Submit">
			<% end ).to_s); @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:50:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:36: syntax error, unexpected '<'
			<% end ).to_s); @output_buffer.concat " \n"
			 ^
C:/Rails/travel/app/views/listing/index.rhtml:48: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:50: syntax error, unexpected $end, expecting kEND) on line #36 of app/views/listing/index.rhtml:
33: 			<% form_tag do %> 
34: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "40" %>
35: 			<%= submit_tag "Submit">
36: 			<% end %> 
37: 			
38: 		</td>
39: 	

    app/views/listing/index.rhtml:50:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:45:30) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 875ms (View: 15, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:47:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 688ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:49:06) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 828ms (View: 16, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:50:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected tASSOC, expecting ')'
....div(:width => 100% :height => 400) ).to_s); @output_buffer....
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
...> 100% :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 100% :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addTag"}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('tag_list').value='';\">\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:51:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected tASSOC, expecting ')'
....div(:width => 100% :height => 400) ).to_s); @output_buffer....
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
...> 100% :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^) on line #30 of app/views/listing/index.rhtml:
27: 		<td width="50%" valign="top">
28: 		<%= GMap.header%>
29: 		<%= @map.to_html %>
30: 		<%= @map.div(:width => 100% :height => 400) %>
31: 		</td>
32: 		<td width="50%" valign="top">
33: 			<% form_tag do %> 

    app/views/listing/index.rhtml:51:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:50:36) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ','
...cat(( @map.div(:width => 100%, :height => 400) ).to_s); @out...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
... 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addTag"}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('tag_list').value='';\">\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:51:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ','
...cat(( @map.div(:width => 100%, :height => 400) ).to_s); @out...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
... 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^) on line #30 of app/views/listing/index.rhtml:
27: 		<td width="50%" valign="top">
28: 		<%= GMap.header%>
29: 		<%= @map.to_html %>
30: 		<%= @map.div(:width => 100%, :height => 400) %>
31: 		</td>
32: 		<td width="50%" valign="top">
33: 			<% form_tag do %> 

    app/views/listing/index.rhtml:51:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:50:39) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ','
...cat(( @map.div(:width => 100%, :height => 400) ).to_s); @out...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
... 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"50%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addTag"}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('tag_list').value='';\">\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:51:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ','
...cat(( @map.div(:width => 100%, :height => 400) ).to_s); @out...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:30: syntax error, unexpected ')', expecting kEND
... 100%, :height => 400) ).to_s); @output_buffer.concat "\n"
                              ^) on line #30 of app/views/listing/index.rhtml:
27: 		<td width="50%" valign="top">
28: 		<%= GMap.header%>
29: 		<%= @map.to_html %>
30: 		<%= @map.div(:width => 100%, :height => 400) %>
31: 		</td>
32: 		<td width="50%" valign="top">
33: 			<% form_tag do %> 

    app/views/listing/index.rhtml:51:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:51:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 703ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:51:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
Completed in 687ms (View: 15, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:51:54) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 844ms (View: 31, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 16:59:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
ERROR: compiling _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags RAISED compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:3: syntax error, unexpected kEND
 end; @output_buffer
    ^
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];tags = local_assigns[:tags];;@output_buffer = '';  __in_erb_template=true ;  for tag in @listing.tag_list ; @output_buffer.concat "\n"
@output_buffer.concat(( #{tag}).to_s); @output_buffer.concat " &nbsp;\n"
 end; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_tags.rhtml:6:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:3: syntax error, unexpected kEND
 end; @output_buffer
    ^
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected kEND, expecting ')') on line #3 of app/views/listing/_tags.rhtml:
1: <% for tag in @listing.tag_list %>
2: <%= #{tag}%> &nbsp;
3: <% end%>

    app/views/listing/_tags.rhtml:6:in `compile!'
    app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:00:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
ERROR: compiling _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags RAISED compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:4: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];tags = local_assigns[:tags];;@output_buffer = '';  __in_erb_template=true ;  for tag in @listing.tag_list do ; @output_buffer.concat "\n"
@output_buffer.concat(( #{tag}).to_s); @output_buffer.concat " &nbsp;\n"
@output_buffer.concat " end% >"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_tags.rhtml:6:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:4: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected kEND, expecting ')') on line #4 of app/views/listing/_tags.rhtml:
1: <% for tag in @listing.tag_list do %>
2: <%= #{tag}%> &nbsp;
3: <% end% >

    app/views/listing/_tags.rhtml:6:in `compile!'
    app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:00:37) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
ERROR: compiling _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags RAISED compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:4: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];tags = local_assigns[:tags];;@output_buffer = '';  __in_erb_template=true ;  for tag in @listing.tag_list do ; @output_buffer.concat "\n"
@output_buffer.concat(( "#{tag}").to_s); @output_buffer.concat " &nbsp;\n"
@output_buffer.concat " end% >"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_tags.rhtml:6:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_tags.rhtml:4: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/_tags.rhtml:6: syntax error, unexpected $end, expecting kEND) on line #4 of app/views/listing/_tags.rhtml:
1: <% for tag in @listing.tag_list do %>
2: <%= "#{tag}"%> &nbsp;
3: <% end% >

    app/views/listing/_tags.rhtml:6:in `compile!'
    app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:01:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTagging Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (63.0ms)
Completed in 938ms (View: 62, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:01:39) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test1,test2"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:01:43) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test1,test2"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:01:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (16.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:02:58) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test1,test2"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:03:17) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (15.0ms)
Completed in 718ms (View: 30, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:03:22) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m

ActionView::MissingTemplate (Missing template listing/addTag.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:04:48) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (16.0ms)
Completed in 875ms (View: 15, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:04:51) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (16.0ms)
Completed in 47ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:05:17) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (16.0ms)
Completed in 735ms (View: 47, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:05:23) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 156ms (View: 16, DB: 15) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:05:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (16.0ms)
Completed in 703ms (View: 32, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:05:37) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:16:20) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:20:00) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (47.0ms)
Completed in 813ms (View: 109, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:20:06) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'test') LIMIT 1[0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('test')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(1, 'Listing', 5, '2010-08-27 09:20:06')[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (140.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 203ms (View: 0, DB: 187) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:20:35) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test,test again"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'test,test again') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test,test again') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('test,test again')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(2, 'Listing', 5, '2010-08-27 09:20:35')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 78ms (View: 0, DB: 48) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:21:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 719ms (View: 15, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:28:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTagging Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (63.0ms)
Completed in 969ms (View: 110, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:28:10) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test,test"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'test,test') LIMIT 1[0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test,test') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('test,test')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(3, 'Listing', 5, '2010-08-27 09:28:10')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (47.0ms)[0m   [0mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 94ms (View: 0, DB: 63) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:30:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 718ms (View: 16, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:30:35) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test, test"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'test') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('test')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(4, 'Listing', 5, '2010-08-27 09:30:35')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 94ms (View: 0, DB: 31) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:30:40) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test, testing"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'testing') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'testing') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('testing')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(5, 'Listing', 5, '2010-08-27 09:30:40')[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (16.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_tags (0.0ms)
Completed in 94ms (View: 16, DB: 47) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:32:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 782ms (View: 94, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:32:45) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (16.0ms)
Completed in 1047ms (View: 32, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:33:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 704ms (View: 16, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:35:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (15.0ms)
Completed in 906ms (View: 47, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:35:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 734ms (View: 31, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:35:46) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"paris, day tour"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'paris') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('paris')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(6, 'Listing', 5, '2010-08-27 09:35:46')[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'day tour') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('day tour')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(7, 'Listing', 5, '2010-08-27 09:35:46')[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_tags (16.0ms)
Completed in 141ms (View: 16, DB: 62) | 200 OK [http://localhost/listing/addTag/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:37:31) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 969ms (View: 32, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:38:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 734ms (View: 32, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-27 17:39:05) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"coach"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'coach') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('coach')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(8, 'Listing', 5, '2010-08-27 09:39:05')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
Rendered listing/_tags (16.0ms)
Completed in 141ms (View: 16, DB: 31) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:40:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (0.0ms)
Completed in 922ms (View: 31, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:40:50) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
Rendered listing/_tags (31.0ms)
Completed in 750ms (View: 78, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:41:46) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m

ActionView::TemplateError (undefined method `name' for "paris":String) on line #6 of app/views/listing/_tags.rhtml:
3: <br/>
4: <% if @listing.tag_list != nil and @listing.tag_list.length > 0%>
5: 	<% for tag in @listing.tag_list %>
6: 		&nbsp;&nbsp;<%= link_to tag.name, { :action => :tag, :id => tag.name }, :class => css_class %>
7: 
8: 	<%end %>
9: <% else %>

    app/views/listing/_tags.rhtml:6:in `_run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags'
    app/views/listing/_tags.rhtml:5:in `each'
    app/views/listing/_tags.rhtml:5:in `_run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags'
    app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:43:26) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `css_class' for #<ActionView::Base:0x43bc1f4>) on line #7 of app/views/listing/_tags.rhtml:
4: <% if @listing.tag_list != nil and @listing.tag_list.length > 0%>
5: 	<% for tagStr in @listing.tag_list %>
6: 		<%tag = Tag.find_by_name(tagStr)%>
7: 		&nbsp;&nbsp;<%= link_to tag.name, { :action => :tag, :id => tag.name }, :class => css_class %>
8: 	<%end %>
9: <% else %>
10: 	&nbsp;&nbsp;<span class="note">No tags</span>

    app/views/listing/_tags.rhtml:7:in `_run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags'
    app/views/listing/_tags.rhtml:5:in `each'
    app/views/listing/_tags.rhtml:5:in `_run_rhtml_app47views47listing47_tags46rhtml_locals_object_tags'
    app/views/listing/index.rhtml:58:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:43:53) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 922ms (View: 31, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#tag (for 127.0.0.1 at 2010-08-27 17:43:59) [GET]
  Parameters: {"id"=>"paris"}

ActionController::UnknownAction (No action responded to tag. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:45:25) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (125.0ms)
Completed in 937ms (View: 171, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:46:09) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 719ms (View: 31, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:47:04) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 734ms (View: 31, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:47:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 969ms (View: 16, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:47:52) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 719ms (View: 16, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 17:48:18) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 734ms (View: 31, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:15:00) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (You need to specify a user instance or create a helper with the name current_user.) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing %>
53: 				<%= ratings_for @listing, :static %>
54: 			</div>
55: 			<% form_tag do %> 

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:81:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:17:14) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (You need to specify a user instance or create a helper with the name current_user.) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing %>
53: 				<%= ratings_for @listing, current_user, :static %>
54: 			</div>
55: 			<% form_tag do %> 

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:81:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:18:24) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (You need to specify a user instance or create a helper with the name current_user.) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:81:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (188.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:19:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing, @user %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to AddPhotoToListing (20100827063857)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Duplicate column name 'photo_file_name': ALTER TABLE `listings` ADD `photo_file_name` varchar(255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to CreateRates (20100827111017)
  [4;36;1mSQL (63.0ms)[0m   [0;1mCREATE TABLE `rates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `rater_id` int(11), `rateable_id` int(11), `rateable_type` varchar(255), `stars` int(11) NOT NULL, `dimension` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (156.0ms)[0m   [0;1mCREATE INDEX `index_rates_on_rater_id` ON `rates` (`rater_id`)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (125.0ms)[0m   [0;1mCREATE INDEX `index_rates_on_rateable_id_and_rateable_type` ON `rates` (`rateable_id`, `rateable_type`)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100827111017')[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `countries`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `countries`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `listings`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW KEYS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `taggings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `taggings`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `tags`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW KEYS FROM `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW FIELDS FROM `users_groups`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:26:59) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing, @user %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:27:08) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing, @user %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:33:56) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTagging Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (62.0ms)
Completed in 1016ms (View: 139, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:34:57) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (You need to specify a user instance or create a helper with the name current_user.) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing, nil %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:81:in `ratings_for'
    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:35:14) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x45fde90>) on line #52 of app/views/listing/index.rhtml:
49: 		</td>
50: 		<td width="99	%" valign="top">
51: 			<div id="rate_div">
52: 				<%= ratings_for @listing, current_user %>
53: 			</div>
54: 			<% form_tag do %> 
55: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    app/views/listing/index.rhtml:52:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:39:10) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (63.0ms)
Completed in 906ms (View: 202, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:40:28) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 750ms (View: 62, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:41:22) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 110, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:41:37) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 906ms (View: 79, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:42:42) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 844ms (View: 109, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:44:19) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 797ms (View: 109, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:44:40) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 766ms (View: 93, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#rate (for 127.0.0.1 at 2010-08-27 19:44:43) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

NameError (uninitialized constant ListingsController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:44:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 62, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#rate (for 127.0.0.1 at 2010-08-27 19:44:55) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

NameError (uninitialized constant ListingsController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#rate (for 127.0.0.1 at 2010-08-27 19:47:38) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

NameError (uninitialized constant ListingsController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:48:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 109, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#5 (for 127.0.0.1 at 2010-08-27 19:48:17) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"rate", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to 5. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:48:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 109, DB: 0) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:50:39) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 93, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#5 (for 127.0.0.1 at 2010-08-27 19:50:44) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"rate", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to 5. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#5 (for 127.0.0.1 at 2010-08-27 19:50:47) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"rate", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to 5. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:51:06) [GET]
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` IS NULL) LIMIT 1[0m

NoMethodError (undefined method `city_id' for nil:NilClass):
  app/controllers/listing_controller.rb:8:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 19:52:41) [GET]

ActionController::RoutingError (No route matches "/listings/5/rate" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 19:52:47) [GET]

ActionController::RoutingError (No route matches "/listings/rate" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 19:52:49) [GET]

ActionController::RoutingError (No route matches "/listings/rate" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 19:52:53) [GET]

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:53:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 953ms (View: 80, DB: 61) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:53:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 907ms (View: 204, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#rate (for 127.0.0.1 at 2010-08-27 19:53:55) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

NameError (uninitialized constant ListingsController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:54:07) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #54 of app/views/listing/index.rhtml:
51: 		</td>
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				<%= ratings_for @listing %>
55: 			</div>
56: 			<% form_tag do %> 
57: 			<label>Add tag:</label>&nbsp;<%= text_field_tag "tag_list","", :size => "35" %>

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:54:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:54:47) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 828ms (View: 140, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 19:54:53) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"5", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:56:29) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (undefined local variable or method `listing' for #<ActionView::Base:0x4830f3c>) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing, :remote_options => {:url => listing/rate(@listing)} %>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    app/views/listing/index.rhtml:55:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:56:49) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (undefined method `rate' for #<ActionView::Base:0x48648a0>) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing, :remote_options => {:url => rate(@listing)} %>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    app/views/listing/index.rhtml:55:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:57:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 93, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 19:57:38) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionController::RoutingError (No route matches "/listing/index/listing/rate(@listing)" with {:method=>:post}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:58:17) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 766ms (View: 79, DB: 77) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 19:58:21) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"actionratecontrollerlistingid5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 'actionratecontrollerlistingid5') LIMIT 1[0m

NoMethodError (undefined method `city_id' for nil:NilClass):
  app/controllers/listing_controller.rb:8:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (157.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#5 (for 127.0.0.1 at 2010-08-27 20:00:43) [GET]
  Parameters: {"listing"=>"listing", "id"=>"index"}

NameError (wrong constant name :listing):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:01:47) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '}'
... :remote_options => {:url => } ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<div id=\"rate_div\">\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( ratings_for @listing, :remote_options => {:url => } ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addTag", :id => @listing.id}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('tag_list').value='';\">\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t\t<div id=\"tag_div\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:79:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '}'
... :remote_options => {:url => } ).to_s); @output_buffer.conca...
                              ^) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing, :remote_options => {:url => } %>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    app/views/listing/index.rhtml:79:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:01:58) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 766ms (View: 78, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:02:03) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#5 (for 127.0.0.1 at 2010-08-27 20:02:26) [GET]
  Parameters: {"id"=>"index"}

ActionController::UnknownAction (No action responded to 5. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:02:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 797ms (View: 125, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:02:44) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:05:55) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 62, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:06:00) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"3", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:06:21) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"5", "show_user_rating"=>"false", "dimension"=>""}

ActionView::MissingTemplate (Missing template listing/rate.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#5 (for 127.0.0.1 at 2010-08-27 20:06:28) [GET]
  Parameters: {"id"=>"rate"}

ActionController::UnknownAction (No action responded to 5. Actions: addTag, index, rate, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 20:07:54) [GET]

ActionController::RoutingError (No route matches "/listing/index/5" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 20:07:58) [GET]

ActionController::RoutingError (No route matches "/listing/index/5" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:08:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing%>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:55:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:08:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (uninitialized constant AjaxfulRating::StarsBuilder::MissingRateRoute) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing%>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:52:in `apply_stars_builder_options!'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/stars_builder.rb:10:in `initialize'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `new'
    C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/helpers.rb:82:in `ratings_for'
    app/views/listing/index.rhtml:55:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:09:27) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 922ms (View: 251, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:09:34) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:10:31) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '}', expecting ')'
...s => {:url => rate(@listing)}}).to_s); @output_buffer.concat...
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th><th>Tags & Reviews</th> </tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<div id=\"rate_div\">\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( ratings_for @listing, :remote_options => {:url => rate(@listing)}}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  form_tag do ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t<label>Add tag:</label>&nbsp;"; @output_buffer.concat(( text_field_tag "tag_list","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addTag", :id => @listing.id}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('tag_list').value='';\">\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat " \n"
@output_buffer.concat "\t\t\t\n"
@output_buffer.concat "\t\t\t<div id=\"tag_div\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:79:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '}', expecting ')'
...s => {:url => rate(@listing)}}).to_s); @output_buffer.concat...
                              ^) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing, :remote_options => {:url => rate(@listing)}}%>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    app/views/listing/index.rhtml:79:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:12:17) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ActionView::TemplateError (undefined method `rate' for #<ActionView::Base:0x4888e44>) on line #55 of app/views/listing/index.rhtml:
52: 		<td width="99%" valign="top">
53: 			<div id="rate_div">
54: 				
55: 				<%= ratings_for @listing, :remote_options => {:url => rate(@listing)}%>
56: 
57: 			</div>
58: 			<% form_tag do %> 

    app/views/listing/index.rhtml:55:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:13:14) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 766ms (View: 77, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:13:21) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionController::UnknownAction (No action responded to rate. Actions: addTag, index, and tag_cloud):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:13:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 782ms (View: 63, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:13:44) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}

ActionView::MissingTemplate (Missing template listing/rate.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:14:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 891ms (View: 109, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:14:15) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/rate/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:14:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 907ms (View: 109, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-27 20:14:56) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "stars"=>"2", "show_user_rating"=>"false", "dimension"=>""}

ActionController::RoutingError (No route matches "/listing/index/listing/rate/5" with {:method=>:post}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:15:02) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 969ms (View: 234, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:15:05) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"2", "show_user_rating"=>"false", "dimension"=>""}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/rate/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:16:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 77, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:16:59) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"5", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m

NameError (undefined local variable or method `current_user' for #<ListingController:0x48ce0c0>):
  app/controllers/listing_controller.rb:36:in `rate'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:18:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 859ms (View: 156, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:18:25) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 38067510) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActiveRecord::AssociationTypeMismatch (User(#38094190) expected, got String(#21132310)):
  C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/model.rb:80:in `rate'
  C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/model.rb:79:in `rate'
  app/controllers/listing_controller.rb:36:in `rate'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:19:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 859ms (View: 78, DB: 61) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:19:24) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 36355690) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActiveRecord::AssociationTypeMismatch (User(#36389220) expected, got String(#21132310)):
  C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/model.rb:80:in `rate'
  C:/Ruby/lib/ruby/gems/1.8/gems/ajaxful_rating-2.2.8.1/lib/axr/model.rb:79:in `rate'
  app/controllers/listing_controller.rb:36:in `rate'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:20:09) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"3", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
Completed in 31ms (View: 0, DB: 16) | 200 OK [http://localhost/listing/rate/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:23:40) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 63, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:23:43) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"2", "show_user_rating"=>"false", "dimension"=>""}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m

NameError (undefined local variable or method `current_user' for #<ListingController:0x43f2ac4>):
  app/controllers/listing_controller.rb:36:in `rate'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:24:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 844ms (View: 94, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:24:13) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"1", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRate Create (0.0ms)[0m   [0;1mINSERT INTO `rates` (`rater_id`, `updated_at`, `rateable_type`, `rateable_id`, `stars`, `dimension`, `created_at`) VALUES(1, '2010-08-27 12:24:13', 'Listing', 5, 1, NULL, '2010-08-27 12:24:13')[0m
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
Completed in 94ms (View: 0, DB: 62) | 200 OK [http://localhost/listing/rate/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:25:33) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 766ms (View: 94, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:25:37) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"3", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRate Create (0.0ms)[0m   [0;1mINSERT INTO `rates` (`rater_id`, `updated_at`, `rateable_type`, `rateable_id`, `stars`, `dimension`, `created_at`) VALUES(1, '2010-08-27 12:25:37', 'Listing', 5, 3, NULL, '2010-08-27 12:25:37')[0m
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 140ms (View: 47, DB: 78) | 200 OK [http://localhost/listing/rate/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:26:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 93, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:31:27) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 79, DB: 76) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:32:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 859ms (View: 78, DB: 61) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:32:36) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 922ms (View: 62, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:32:46) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 47, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:32:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 828ms (View: 79, DB: 77) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:32:54) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 922ms (View: 62, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:38:22) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 891ms (View: 62, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:39:04) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 110, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:41:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 765ms (View: 78, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (16.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:42:26) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 875ms (View: 79, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:43:04) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 78, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:43:07) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 813ms (View: 111, DB: 61) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:43:37) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 797ms (View: 78, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:44:01) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 79, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:45:16) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 937ms (View: 188, DB: 61) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 20:45:47) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (16.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRate Update (0.0ms)[0m   [0mUPDATE `rates` SET `stars` = 4, `updated_at` = '2010-08-27 12:45:47' WHERE `id` = 2[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 141ms (View: 31, DB: 78) | 200 OK [http://localhost/listing/rate/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:46:57) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 891ms (View: 203, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:47:19) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 828ms (View: 124, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:47:22) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (15.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 797ms (View: 63, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:47:36) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 797ms (View: 94, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:47:44) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 906ms (View: 78, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:47:54) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 922ms (View: 78, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:50:02) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (46.0ms)
Completed in 906ms (View: 203, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:50:37) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 750ms (View: 93, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:50:52) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 766ms (View: 77, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:51:32) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 766ms (View: 63, DB: 77) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:52:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 859ms (View: 94, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:52:13) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 969ms (View: 80, DB: 76) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 20:54:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 93, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:02:01) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 766ms (View: 77, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:02:59) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 797ms (View: 95, DB: 77) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:03:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 922ms (View: 61, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:04:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 78, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:05:05) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 922ms (View: 218, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:05:29) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 813ms (View: 94, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 21:06:45) [GET]
Rendering user/register
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/user/register]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#register (for 127.0.0.1 at 2010-08-27 21:07:15) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"andrew", "username"=>"andrew", "password"=>"andrew", "email"=>"carnation@yahoo.com"}, "commit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'andrew') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = 'carnation@yahoo.com') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`username` = BINARY 'andrew') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO `users` (`updated_at`, `hashed_password`, `temp_pass_active`, `username`, `activation_code`, `email`, `temp_pass`, `active`, `created_at`) VALUES('2010-08-27 13:07:15', 'd914e3ecf6cc481114a3f534a5faf90b', NULL, 'andrew', '115sh0dferzmwb27stk0aaefj47pom3d', 'carnation@yahoo.com', NULL, NULL, '2010-08-27 13:07:15')[0m
Sent mail to carnation@yahoo.com

Date: Fri, 27 Aug 2010 21:07:15 +0800
From: andrew.hostel@gmail.com
To: carnation@yahoo.com
Subject: Andrew's Hostel Signup Notification
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Dear andrew,
This is your activation link to join our website. In order to confirm your membership please click on the following link:

Thank you for joining.

Andrew's Hostel
  [4;35;1mSQL (16.0ms)[0m   [0mCOMMIT[0m
Rendering user/register
Completed in 1250ms (View: 0, DB: 48) | 200 OK [http://localhost/user/register]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 21:07:26) [GET]
Rendering user/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 21:07:32) [POST]
  Parameters: {"user"=>{"username"=>"andrew", "password"=>"andrew"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'andrew') LIMIT 1[0m
Redirected to http://localhost:3000/user/login
Completed in 16ms (DB: 16) | 302 Found [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 21:07:32) [GET]
Rendering user/login
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 21:07:55) [POST]
  Parameters: {"user"=>{"username"=>"andrew", "password"=>"andrew"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'andrew') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 31ms (DB: 0) | 302 Found [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:07:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 750ms (View: 79, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-27 21:08:00) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"3", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRate Create (0.0ms)[0m   [0;1mINSERT INTO `rates` (`rater_id`, `updated_at`, `rateable_type`, `rateable_id`, `stars`, `dimension`, `created_at`) VALUES(2, '2010-08-27 13:08:00', 'Listing', 5, 3, NULL, '2010-08-27 13:08:00')[0m
  [4;35;1mSQL (78.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 188ms (View: 32, DB: 125) | 200 OK [http://localhost/listing/rate/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-27 21:08:12) [GET]
Redirected to http://localhost:3000/user/login
Completed in 0ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-27 21:08:12) [GET]
Rendering user/login
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-27 21:08:19) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 781ms (View: 93, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 10:48:01) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (141.0ms)
Completed in 1109ms (View: 421, DB: 80) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-28 10:48:10) [GET]
Rendering user/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-28 10:48:22) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 15ms (DB: 15) | 302 Found [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 10:48:22) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 750ms (View: 63, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 11:03:24) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 859ms (View: 78, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 11:03:54) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 875ms (View: 63, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 11:04:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 891ms (View: 203, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 12:28:24) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 766ms (View: 78, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-28 12:28:29) [GET]
Redirected to http://localhost:3000/user/login
Completed in 0ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-28 12:28:29) [GET]
Rendering user/login
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 12:28:35) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 797ms (View: 78, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 12:29:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 765ms (View: 79, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 12:29:51) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (32.0ms)
Completed in 797ms (View: 124, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-28 13:51:31) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"english"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (141.0ms)[0m   [0;1mSHOW TABLES[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 13:53:29) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (63.0ms)
Completed in 828ms (View: 173, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-28 13:53:35) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"english"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 13:54:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (31.0ms)
Completed in 875ms (View: 250, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-28 13:54:22) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m

NoMethodError (undefined method `find_or_create_with_like_by_name' for Tag(id: integer, name: string):Class):
  app/controllers/listing_controller.rb:28:in `addTag'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-28 14:01:52) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 859ms (View: 125, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (16.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-28 14:22:07) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'test') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('test')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(9, 'Listing', 5, '2010-08-28 06:22:07')[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 109ms (View: 15, DB: 79) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 11:57:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
Rendered listing/_reviews (172.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 937ms (View: 203, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-29 12:13:13) [GET]
Rendering user/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-29 12:13:20) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 16ms (DB: 16) | 302 Found [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 12:13:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 828ms (View: 78, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 12:13:43) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 750ms (View: 109, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 12:22:54) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
ERROR: compiling _run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews RAISED compile error
C:/Rails/travel/app/views/listing/_reviews.rhtml:26: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/_reviews.rhtml:28: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];reviews = local_assigns[:reviews];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"review_tag\">\n"
@output_buffer.concat "\t<table>\n"
@output_buffer.concat "\t\t";  if session[:user_id] == nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<tr><td colspan=\"2\"><span class=\"note\">Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to give ratings/reviews</td></tr>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<tr>\n"
@output_buffer.concat "\t\t\t<td width=\"1%\" nowrap=\"nowrap\">User rating</td>\n"
@output_buffer.concat "\t\t\t<td width=\"99%\">"; @output_buffer.concat(( ratings_for @listing, :remote_options => {:url => "/listing/rate/#{@listing.id}"}).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "\t\t</tr>\n"
@output_buffer.concat "\t\t<tr>\n"
@output_buffer.concat "\t\t<td>Reviews</td>\n"
@output_buffer.concat "\t\t<td>\n"
@output_buffer.concat "\t\t";  if session[:user_id] != nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( link_to_remote "Add/Edit your review", :url => {:controller => "listing", :action => "addReview"}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t</tr>\n"
@output_buffer.concat "\t\t<tr>\n"
@output_buffer.concat "\t\t\t<td colspan=\"2\">\n"
@output_buffer.concat "\t\t\t<div id=\"review_form\" style=\"display:none;\">\n"
@output_buffer.concat "\t\t\t";  form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<label>Your review:</label>&nbsp;"; @output_buffer.concat(( text_area_tag "review_content","", :size => "35" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:action => "addReviewSubmit", :id => @listing.id}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<input type='button' value=\"Cancel\" onclick=\"document.getElementById('review_form').style.display='none';\">\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat "end>\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t\n\t</table>\n</div>\n\t\t\t\t\n\t\t\t\t\n\t\t"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_reviews.rhtml:28:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_reviews.rhtml:26: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/_reviews.rhtml:28: syntax error, unexpected $end, expecting kEND) on line #26 of app/views/listing/_reviews.rhtml:
23: 				<%= submit_to_remote "Submit","Submit", :url => {:action => "addReviewSubmit", :id => @listing.id}%>
24: 				<input type='button' value="Cancel" onclick="document.getElementById('review_form').style.display='none';">
25: 			<%end>
26: 			</div>
27: 			</td>
28: 		</tr>
29: 		

    app/views/listing/_reviews.rhtml:28:in `compile!'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (109.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 12:23:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 734ms (View: 78, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 12:23:17) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 12:27:14) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_reviews (47.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 750ms (View: 78, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 12:27:18) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (156.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to AddPhotoToListing (20100827063857)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Duplicate column name 'photo_file_name': ALTER TABLE `listings` ADD `photo_file_name` varchar(255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to CreateRates (20100827111017)
Migrating to CreateReviews (20100829042938)
  [4;36;1mSQL (94.0ms)[0m   [0;1mCREATE TABLE `reviews` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `listing_id` int(11), `text` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100829042938')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `countries`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `countries`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `groups`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW KEYS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `listings`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `taggings`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `taggings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `taggings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users_groups`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:23:38) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m

ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (2 for 1) in: listing_id = ? and user_id != ):
  app/controllers/listing_controller.rb:18:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:26:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (282.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (46.0ms)
Completed in 984ms (View: 328, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:27:24) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 812ms (View: 79, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:31:42) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 859ms (View: 78, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:33:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 734ms (View: 93, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:34:04) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 859ms (View: 62, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:34:15) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:34:18) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:35:40) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 843ms (View: 78, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:35:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 859ms (View: 78, DB: 30) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:36:09) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 953ms (View: 94, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:41:19) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (16.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (171.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 906ms (View: 187, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:42:44) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (15.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 719ms (View: 63, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:42:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 750ms (View: 78, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:43:05) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 766ms (View: 94, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:43:42) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:43:47) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing review"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m

NoMethodError (undefined method `create' for nil:NilClass):
  app/controllers/listing_controller.rb:61:in `addReviewSubmit'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:44:24) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 765ms (View: 93, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:44:27) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:44:29) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing review"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m

NoMethodError (undefined method `create' for nil:NilClass):
  app/controllers/listing_controller.rb:61:in `addReviewSubmit'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:45:16) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 828ms (View: 78, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:45:19) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:45:23) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Create (0.0ms)[0m   [0mINSERT INTO `reviews` (`updated_at`, `text`, `listing_id`, `user_id`, `created_at`) VALUES('2010-08-29 05:45:23', 'testing', 5, 1, '2010-08-29 05:45:23')[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_review_list (0.0ms)
Completed in 63ms (View: 0, DB: 32) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:45:50) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (172.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 860ms (View: 203, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:45:55) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:48:24) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 797ms (View: 63, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:48:28) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = NULL) LIMIT 1[0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:48:34) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing again"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'testing again', `updated_at` = '2010-08-29 05:48:34' WHERE `id` = 1[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_review_list (0.0ms)
Completed in 62ms (View: 0, DB: 47) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:48:37) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = NULL) LIMIT 1[0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:51:02) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 843ms (View: 62, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:51:30) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (172.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 891ms (View: 188, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:51:39) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = NULL) LIMIT 1[0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:51:52) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"Get ready to cheer. Be ready to laugh. Be ready to be amazed with wonderful, live action fighting scenes using everything from fists, to blades, to guns. I don't know how this movie avoided being cheesy, but darn it, it did! Mindless explosions? Not really. Excessive? Again, not really. I hate the sort of climax usually seen in an action movie where the pyrotechnics are the show. I want to see the actors/stunt-men doing their thing. I want to see people. I can see fireworks on the Fourth of July. (Though, trust me, there ARE fireworks in this movie, too.) The balancing of this many stars is incredible and pulled off remarkably well. When Sylvester Stallone made his final Rocky movie (Rocky Balboa), he said he did it as a \"thank you\" to the fans. Maybe that was the idea behind this one, too, though I heard a quote from somewhere that after seeing wimpy Tobey Maguire as \"Spiderman\" full of CGI and a stuffed/padded suit, he realized action heroes like himself were, well, expendable."}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mReview Update (0.0ms)[0m   [0;1mUPDATE `reviews` SET `text` = 'Get ready to cheer. Be ready to laugh. Be ready to be amazed with wonderful, live action fighting scenes using everything from fists, to blades, to guns. I don\'t know how this movie avoided being cheesy, but darn it, it did! Mindless explosions? Not really. Excessive? Again, not really. I hate the sort of climax usually seen in an action movie where the pyrotechnics are the show. I want to see the actors/stunt-men doing their thing. I want to see people. I can see fireworks on the Fourth of July. (Though, trust me, there ARE fireworks in this movie, too.) The balancing of this many stars is incredible and pulled off remarkably well. When Sylvester Stallone made his final Rocky movie (Rocky Balboa), he said he did it as a \"thank you\" to the fans. Maybe that was the idea behind this one, too, though I heard a quote from somewhere that after seeing wimpy Tobey Maguire as \"Spiderman\" full of CGI and a stuffed/padded suit, he realized action heroes like himself were, well, expendable.', `updated_at` = '2010-08-29 05:51:52' WHERE `id` = 1[0m
  [4;35;1mSQL (47.0ms)[0m   [0mCOMMIT[0m
Rendered listing/_review_list (0.0ms)
Completed in 62ms (View: 0, DB: 47) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:52:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 860ms (View: 94, DB: 0) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-29 13:52:27) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = NULL) LIMIT 1[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-29 13:52:39) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"Get ready to cheer. Be ready to laugh. Be ready to be amazed with wonderful, live action fighting scenes using everything from fists, to blades, to guns. I don't know how this movie avoided being cheesy, but darn it, it did! Mindless explosions? Not really. Excessive? Again, not really. I hate the sort of climax usually seen in an action movie where the pyrotechnics are the show. I want to see the actors/stunt-men doing their thing. I want to see people. I can see fireworks on the Fourth of July. "}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'Get ready to cheer. Be ready to laugh. Be ready to be amazed with wonderful, live action fighting scenes using everything from fists, to blades, to guns. I don\'t know how this movie avoided being cheesy, but darn it, it did! Mindless explosions? Not really. Excessive? Again, not really. I hate the sort of climax usually seen in an action movie where the pyrotechnics are the show. I want to see the actors/stunt-men doing their thing. I want to see people. I can see fireworks on the Fourth of July. ', `updated_at` = '2010-08-29 05:52:39' WHERE `id` = 1[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendered listing/_review_list (0.0ms)
Completed in 63ms (View: 0, DB: 47) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (16.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:55:20) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 828ms (View: 79, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 13:58:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (171.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 859ms (View: 171, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:03:19) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review (0.0ms)
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 750ms (View: 94, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:06:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(listing.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:07:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:07:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:07:39) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 828ms (View: 77, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 14:08:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 844ms (View: 188, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 16:58:33) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (47.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 735ms (View: 94, DB: 0) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 16:59:27) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>
3: <%= render :partial => "review", :local => {:review => @curr_review}%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 17:00:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (16.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>
3: <%= render :partial => "review", :local => {:review => @curr_review}%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 17:01:48) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-29 17:01:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:15:47) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (203.0ms)
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 1125ms (View: 218, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:16:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m

ActionView::TemplateError (undefined method `user_id' for nil:NilClass) on line #1 of app/views/listing/_review.rhtml:
1: <% user = User.find_by_id(review.user_id)%>
2: <% listing = Listing.find_by_id(review.user_id)%>

    app/views/listing/_review.rhtml:1:in `_run_rhtml_app47views47listing47_review46rhtml_locals_object_review'
    app/views/listing/_review_list.rhtml:10:in `_run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:18:24) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (31.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (125.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1157ms (View: 141, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:20:09) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (32.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (46.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (94.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 1171ms (View: 109, DB: 187) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:25:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (47.0ms)
Rendered listing/_reviews (250.0ms)
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 969ms (View: 235, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:26:26) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (219.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 938ms (View: 219, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:27:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (141.0ms)
Rendered listing/_reviews (203.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1016ms (View: 250, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:30:15) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (93.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 813ms (View: 93, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:32:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (109.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 828ms (View: 110, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:33:19) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
ERROR: compiling _run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list RAISED compile error
C:/Rails/travel/app/views/listing/_review_list.rhtml:16: syntax error, unexpected ')', expecting tASSOC
...user_rating => true , :static).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_rhtml_app47views47listing47_review_list46rhtml_locals_object_review_list(local_assigns)
            old_output_buffer = output_buffer;review_list = local_assigns[:review_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
@output_buffer.concat "\n"
 if @curr_review == nil and (@other_reviews == nil or @other_reviews.length == 0); @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td class=\"note\" style=\"font-style: italic; font-weight: bold;\" colspan=\"2\">No review yet</td>\n"
@output_buffer.concat "</tr>\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "\n"
 if @curr_review != nil; @output_buffer.concat "\n"
 @user = User.find_by_id(@curr_review.user_id); @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>"; @output_buffer.concat(( @user.username).to_s); @output_buffer.concat "'s</label>\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( ratings_for @listing, @user , :show_user_rating => true , :static).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_review_list.rhtml:24:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_review_list.rhtml:16: syntax error, unexpected ')', expecting tASSOC
...user_rating => true , :static).to_s); @output_buffer.concat ...
                              ^) on line #16 of app/views/listing/_review_list.rhtml:
13: <label><%= @user.username%>'s</label>
14: </td>
15: <td>
16: <%= ratings_for @listing, @user , :show_user_rating => true , :static%>
17: </td>
18: </tr>
19: <% end%>

    app/views/listing/_review_list.rhtml:24:in `compile!'
    app/views/listing/_reviews.rhtml:41:in `_run_rhtml_app47views47listing47_reviews46rhtml_locals_object_reviews'
    app/views/listing/index.rhtml:61:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:34:04) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (47.0ms)
Rendered listing/_reviews (125.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 828ms (View: 140, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-30 00:34:23) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"true", "dimension"=>""}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRate Create (0.0ms)[0m   [0mINSERT INTO `rates` (`rater_id`, `updated_at`, `rateable_type`, `rateable_id`, `stars`, `dimension`, `created_at`) VALUES(1, '2010-08-29 16:34:23', 'Listing', 5, 4, NULL, '2010-08-29 16:34:23')[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 157ms (View: 32, DB: 77) | 200 OK [http://localhost/listing/5/rate]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-30 00:34:26) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"true", "dimension"=>""}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 110ms (View: 32, DB: 16) | 200 OK [http://localhost/listing/5/rate]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:34:30) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (16.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (32.0ms)
Rendered listing/_reviews (203.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 953ms (View: 203, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-30 00:34:39) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"5", "show_user_rating"=>"true", "dimension"=>""}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRate Update (0.0ms)[0m   [0mUPDATE `rates` SET `stars` = 5, `updated_at` = '2010-08-29 16:34:39' WHERE `id` = 4[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 156ms (View: 31, DB: 78) | 200 OK [http://localhost/listing/5/rate]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:35:07) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (94.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 1109ms (View: 94, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-30 00:35:15) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"2", "show_user_rating"=>"true", "dimension"=>""}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRate Update (16.0ms)[0m   [0mUPDATE `rates` SET `stars` = 2, `updated_at` = '2010-08-29 16:35:15' WHERE `id` = 4[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 140ms (View: 31, DB: 78) | 200 OK [http://localhost/listing/5/rate]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:43:37) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (94.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 953ms (View: 140, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-30 00:43:44) [GET]
Redirected to http://localhost:3000/user/login
Completed in 0ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 00:43:44) [GET]
Rendering user/login
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:43:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5) [0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 797ms (View: 94, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:45:06) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (63.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5) [0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mRate Columns (110.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (219.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 1172ms (View: 203, DB: 204) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 00:45:13) [GET]
Rendering user/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 00:45:20) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 31ms (DB: 16) | 302 Found [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:45:21) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 891ms (View: 62, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:47:26) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (234.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (47.0ms)
Completed in 1015ms (View: 281, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:47:29) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (16.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (16.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 906ms (View: 63, DB: 93) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 00:47:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (93.0ms)
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 953ms (View: 78, DB: 93) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 00:48:09) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = NULL) LIMIT 1[0m
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 00:48:14) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 1 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'testing', `updated_at` = '2010-08-29 16:48:14' WHERE `id` = 1[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (15.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 1) LIMIT 1[0m
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Completed in 110ms (View: 0, DB: 94) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#rate (for 127.0.0.1 at 2010-08-30 02:39:01) [POST]
  Parameters: {"small"=>"false", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "stars"=>"4", "show_user_rating"=>"false", "dimension"=>""}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = 5) [0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRate Update (15.0ms)[0m   [0mUPDATE `rates` SET `stars` = 4, `updated_at` = '2010-08-29 18:39:01' WHERE `id` = 4[0m
  [4;36;1mSQL (250.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
Completed in 625ms (View: 235, DB: 327) | 200 OK [http://localhost/listing/rate/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:41:02) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (234.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1047ms (View: 265, DB: 64) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-30 02:41:10) [GET]
Redirected to http://localhost:3000/user/login
Completed in 0ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 02:41:10) [GET]
Rendering user/login
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 02:41:18) [POST]
  Parameters: {"user"=>{"username"=>"andrew", "password"=>"andrew"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`username` = 'andrew') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 31ms (DB: 0) | 302 Found [http://localhost/user/login]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:41:18) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (234.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1344ms (View: 249, DB: 110) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:41:58) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:42:02) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"fasfdalk;fja;"}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mReview Create (0.0ms)[0m   [0;1mINSERT INTO `reviews` (`updated_at`, `text`, `listing_id`, `user_id`, `created_at`) VALUES('2010-08-29 18:42:02', 'fasfdalk;fja;', 5, 2, '2010-08-29 18:42:02')[0m
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Completed in 125ms (View: 47, DB: 63) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:42:10) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (234.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 1031ms (View: 249, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:42:49) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (32.0ms)
Rendered listing/_reviews (94.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 844ms (View: 95, DB: 76) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:43:05) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:43:11) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"this is testing review"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'this is testing review', `updated_at` = '2010-08-29 18:43:12' WHERE `id` = 2[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Completed in 109ms (View: 0, DB: 93) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:43:38) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (219.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1032ms (View: 265, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:44:02) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:44:07) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"this is testing reviewfdsa"}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mReview Update (0.0ms)[0m   [0;1mUPDATE `reviews` SET `text` = 'this is testing reviewfdsa', `updated_at` = '2010-08-29 18:44:07' WHERE `id` = 2[0m
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mReview Load (16.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Completed in 94ms (View: 0, DB: 78) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:44:12) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:44:18) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>""}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = '', `updated_at` = '2010-08-29 18:44:18' WHERE `id` = 2[0m
  [4;36;1mSQL (203.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;35;1mUser Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (47.0ms)
Completed in 281ms (View: 0, DB: 266) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:47:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (110.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 1188ms (View: 392, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:48:09) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (31.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (94.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 1109ms (View: 94, DB: 93) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:48:19) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:48:22) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"test"}
  [4;35;1mReview Load (16.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mReview Update (0.0ms)[0m   [0;1mUPDATE `reviews` SET `text` = 'test', `updated_at` = '2010-08-29 18:48:22' WHERE `id` = 2[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Completed in 109ms (View: 0, DB: 93) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:48:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 1000ms (View: 79, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:48:37) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:48:39) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testfdasf"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'testfdasf', `updated_at` = '2010-08-29 18:48:39' WHERE `id` = 2[0m
  [4;36;1mSQL (63.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Completed in 94ms (View: 0, DB: 79) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:49:30) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 813ms (View: 93, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:49:33) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:49:40) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"testing highlight"}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mReview Update (0.0ms)[0m   [0;1mUPDATE `reviews` SET `text` = 'testing highlight', `updated_at` = '2010-08-29 18:49:40' WHERE `id` = 2[0m
  [4;35;1mSQL (156.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Completed in 218ms (View: 15, DB: 172) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:49:48) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:49:49) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:49:52) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:49:55) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"test"}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mReview Update (0.0ms)[0m   [0mUPDATE `reviews` SET `text` = 'test', `updated_at` = '2010-08-29 18:49:55' WHERE `id` = 2[0m
  [4;36;1mSQL (78.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Completed in 125ms (View: 0, DB: 109) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 02:51:21) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (46.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (31.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (78.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (63.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (125.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (93.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (63.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (188.0ms)
Rendered listing/_reviews (515.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 1531ms (View: 281, DB: 515) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReview (for 127.0.0.1 at 2010-08-30 02:51:27) [POST]
  Parameters: {"authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = NULL) LIMIT 1[0m
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://localhost/listing/addReview]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addReviewSubmit (for 127.0.0.1 at 2010-08-30 02:51:29) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "review_content"=>"test"}
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (user_id = 2 and listing_id = '5') LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (31.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = '5' and user_id = 2) LIMIT 1[0m
  [4;35;1mUser Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (63.0ms)
Completed in 172ms (View: 32, DB: 78) | 200 OK [http://localhost/listing/addReviewSubmit/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#getListingsByTag (for 127.0.0.1 at 2010-08-30 02:52:31) [GET]
  Parameters: {"id"=>"6"}

ActionController::UnknownAction (No action responded to getListingsByTag. Actions: addReview, addReviewSubmit, addTag, index, and rate):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (391.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to CreateRates (20100827111017)
Migrating to CreateReviews (20100829042938)
Migrating to CreateListingsGroups (20100829185811)
  [4;36;1mSQL (156.0ms)[0m   [0;1mCREATE TABLE `listings_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `group_id` int(11), `listing_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (46.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100829185811')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `countries`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `countries`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `listings`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW KEYS FROM `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `listings_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `listings_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `reviews`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `taggings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `taggings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `tags`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW FIELDS FROM `users_groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:19:44) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #4 of app/views/group/_group.rhtml:
1: <tr>
2: 	<td>
3: 		<ul>
4: 			<li><%= link_to "#{group.hook}", :controller => "group", :action => "index"%></li>
5: 		</ul>
6: 	</td>
7: </tr>

    app/views/group/_group.rhtml:4:in `_run_rhtml_app47views47group47_group46rhtml_locals_group_object'
    app/views/listing/index.rhtml:45:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:22:02) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:46: syntax error, unexpected ')', expecting '}'
...", :local => {:group => group).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :local => {:group => group).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:86:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:46: syntax error, unexpected ')', expecting '}'
...", :local => {:group => group).to_s); @output_buffer.concat ...
                              ^) on line #46 of app/views/listing/index.rhtml:
43: <table  style="margin-top: 20px;" width="90%" align="center" >
44: <tr><th>Groups</th></tr>
45: <% for group in @groups do%>
46: <%= render :partial => "group/group", :local => {:group => group%>
47: <% end%>
48: 
49: </table>

    app/views/listing/index.rhtml:86:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:22:17) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #4 of app/views/group/_group.rhtml:
1: <tr>
2: 	<td>
3: 		<ul>
4: 			<li><%= link_to "#{group.hook}", :controller => "group", :action => "index"%></li>
5: 		</ul>
6: 	</td>
7: </tr>

    app/views/group/_group.rhtml:4:in `_run_rhtml_app47views47group47_group46rhtml_locals_group_object'
    app/views/listing/index.rhtml:46:in `_run_rhtml_app47views47listing47index46rhtml'
    app/views/listing/index.rhtml:45:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:22:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #4 of app/views/group/_group.rhtml:
1: <tr>
2: 	<td>
3: 		<ul>
4: 			<li><%= link_to "#{@group.hook}", :controller => "group", :action => "index"%></li>
5: 		</ul>
6: 	</td>
7: </tr>

    app/views/group/_group.rhtml:4:in `_run_rhtml_app47views47group47_group46rhtml_locals_group_object'
    app/views/listing/index.rhtml:46:in `_run_rhtml_app47views47listing47index46rhtml'
    app/views/listing/index.rhtml:45:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:23:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (109.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 2000ms (View: 156, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:26:45) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 890ms (View: 77, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:37:00) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 906ms (View: 93, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:39:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (16.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 891ms (View: 94, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:39:43) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 922ms (View: 124, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:41:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 890ms (View: 108, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:41:56) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 891ms (View: 204, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:42:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 890ms (View: 204, DB: 45) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:43:26) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 875ms (View: 202, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:43:37) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (156.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 922ms (View: 219, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:43:56) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (15.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (156.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 922ms (View: 204, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:44:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
Rendered group/_group (0.0ms)
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 812ms (View: 93, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:50:25) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:51: syntax error, unexpected tSTRING_BEG, expecting kEND
... options = "<option value="-1" checked>Choose a group</optio...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:56: unknown regexp options - labl
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<'
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
	 ^
C:/Rails/travel/app/views/listing/index.rhtml:59: syntax error, unexpected ')', expecting kEND
...Listing", :id => @listing.id}).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value="-1" checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value=<%=group.id; @output_buffer.concat ">"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:101:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:51: syntax error, unexpected tSTRING_BEG, expecting kEND
... options = "<option value="-1" checked>Choose a group</optio...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:56: unknown regexp options - labl
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<'
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
	 ^
C:/Rails/travel/app/views/listing/index.rhtml:59: syntax error, unexpected ')', expecting kEND
...Listing", :id => @listing.id}).to_s); @output_buffer.concat ...
                              ^) on line #51 of app/views/listing/index.rhtml:
48: <% if session[:user_id] != nil%>
49: <tr>
50: <td>
51: 	<% options = "<option value="-1" checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value=<%=group.id%>><%=group.hook%></option>"%>
54: 		<% end%>

    app/views/listing/index.rhtml:101:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:51:12) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $undefined, expecting kEND
...p.id; @output_buffer.concat "\\\">"; @output_buffer.concat((...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:64: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:64: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:99: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:101: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value=\"-1\" checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value=\"<%=group.id; @output_buffer.concat "\\\">"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:101:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $undefined, expecting kEND
...p.id; @output_buffer.concat "\\\">"; @output_buffer.concat((...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:55: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:64: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:64: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:99: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:101: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value=\"-1\" checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value=\"<%=group.id%>\"><%=group.hook%></option>"%>
54: 		<% end%>
55: 	<% form_tag do>
56: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

    app/views/listing/index.rhtml:101:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:51:48) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value='<%=group.id; @output_buffer.concat "'>"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:53:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value='-1' checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value='<%=group.id%>'><%=group.hook%></option>"%>
54: 		<% end%>
55: 	<% form_tag do>
56: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

    app/views/listing/index.rhtml:53:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:52:10) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value='<%=group.id; @output_buffer.concat "'>>"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:53:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value='-1' checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value='<%=group.id%>'>><%=group.hook%></option>"%>
54: 		<% end%>
55: 	<% form_tag do>
56: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

    app/views/listing/index.rhtml:53:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:52:13) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value='<%=group.id; @output_buffer.concat "'>>"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:53:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value='-1' checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value='<%=group.id%>'>><%=group.hook%></option>"%>
54: 		<% end%>
55: 	<% form_tag do>
56: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

    app/views/listing/index.rhtml:53:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:53:18) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value='<%=group.id; @output_buffer.concat "'>>"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "</select>"; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:53:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value='-1' checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value='<%=group.id%>'>><%=group.hook%></option>"%>
54: 		<% end%>
55: 		<% options += "</select>"%>
56: 	<% form_tag do>

    app/views/listing/index.rhtml:53:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:53:42) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (16.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "<option value='<%=group.id; @output_buffer.concat "'>"; @output_buffer.concat((group.hook).to_s); @output_buffer.concat "</option>\"%>\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "</select>"; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:53:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:53: unterminated string meets end of file
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected $end, expecting kEND) on line #53 of app/views/listing/index.rhtml:
50: <td>
51: 	<% options = "<option value='-1' checked>Choose a group</option>"%>
52: 		<% for group in Group.find(:all) do %>
53: 		<% options += "<option value='<%=group.id%>'><%=group.hook%></option>"%>
54: 		<% end%>
55: 		<% options += "</select>"%>
56: 	<% form_tag do>

    app/views/listing/index.rhtml:53:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:53:57) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:62: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:65: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:66: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:100: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:102: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "</select>"; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:102:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:62: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:65: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:66: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:100: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:102: syntax error, unexpected $end, expecting kEND) on line #56 of app/views/listing/index.rhtml:
53: 		
54: 		<% end%>
55: 		<% options += "</select>"%>
56: 	<% form_tag do>
57: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
58: 	<%= select_tag "group_list", options%>
59: 	&nbsp;&nbsp;

    app/views/listing/index.rhtml:102:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:54:44) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:62: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:65: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:66: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:100: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:102: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t";  options = "<option value='-1' checked>Choose a group</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  for group in Group.find(:all) do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t";  end; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  options += "</select>"; @output_buffer.concat "\n"
@output_buffer.concat "\t"; form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:102:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:56: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:57: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:62: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:65: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:65: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:66: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:100: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:102: syntax error, unexpected $end, expecting kEND) on line #56 of app/views/listing/index.rhtml:
53: 		
54: 		<% end%>
55: 		<% options += "</select>"%>
56: 	<%form_tag do>
57: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
58: 	<%= select_tag "group_list", options%>
59: 	&nbsp;&nbsp;

    app/views/listing/index.rhtml:102:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (16.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:57:00) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t"; form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	<%= select_tag "group_list", @options; @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat(( submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:98:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND) on line #52 of app/views/listing/index.rhtml:
49: <tr>
50: <td>
51: 	
52: 	<%form_tag do>
53: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
54: 	<%= select_tag "group_list", @options%>
55: 	&nbsp;&nbsp;

    app/views/listing/index.rhtml:98:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:57:20) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t"; form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

	&nbsp;&nbsp;
	<%= submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}; @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:98:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND) on line #52 of app/views/listing/index.rhtml:
49: <tr>
50: <td>
51: 	
52: 	<%form_tag do>
53: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
54: 
55: 	&nbsp;&nbsp;

    app/views/listing/index.rhtml:98:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:57:27) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t"; form_tag do>
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 

	&nbsp;&nbsp;
	<%= submit_to_remote "Submit", "Submit", :url => {:controller => "group" ,:action => "addListing", :id => @listing.id}; @output_buffer.concat "\t\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:98:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:52: syntax error, unexpected '>'
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                 ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected tAMPER, expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                       ^
C:/Rails/travel/app/views/listing/index.rhtml:53: syntax error, unexpected '<', expecting kEND
	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
	                                             ^
C:/Rails/travel/app/views/listing/index.rhtml:58: unknown regexp options - td
C:/Rails/travel/app/views/listing/index.rhtml:58: syntax error, unexpected $undefined
@output_buffer.concat "</td>\n"
                             ^
C:/Rails/travel/app/views/listing/index.rhtml:61: unknown regexp options - tabl
C:/Rails/travel/app/views/listing/index.rhtml:61: syntax error, unexpected $undefined
@output_buffer.concat "</table>\n"
                                ^
C:/Rails/travel/app/views/listing/index.rhtml:62: syntax error, unexpected tIDENTIFIER, expecting kDO or '{' or '('
...ut_buffer.concat "<table style=\"margin-top: 20px;\" width=\...
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:96: syntax error, unexpected kENSURE, expecting kEND
C:/Rails/travel/app/views/listing/index.rhtml:98: syntax error, unexpected $end, expecting kEND) on line #52 of app/views/listing/index.rhtml:
49: <tr>
50: <td>
51: 	
52: 	<%form_tag do>
53: 	<label>Post this to group &nbsp;&nbsp;&nbsp;</label> 
54: 
55: 	&nbsp;&nbsp;

    app/views/listing/index.rhtml:98:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:58:02) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 796ms (View: 78, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 03:58:18) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 828ms (View: 110, DB: 0) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:14:25) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (79.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 797ms (View: 94, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:16:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
ERROR: compiling _run_rhtml_app47views47listing47index46rhtml RAISED compile error
C:/Rails/travel/app/views/listing/index.rhtml:54: syntax error, unexpected '}'
...Listing", :id => @listing.id%}>
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:55: unknown type of %string
<%end).to_s); @output_buffer.concat "\t\n"
    ^
Function body:           def _run_rhtml_app47views47listing47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(( @listing.hook).to_s); @output_buffer.concat " - "; @output_buffer.concat(( @city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( ajaxful_rating_style ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat " \t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<th colspan=\"2\">"; @output_buffer.concat((@listing.hook).to_s); @output_buffer.concat "</th>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td width=\"1%\" valign=\"top\">"; @output_buffer.concat(( image_tag @listing.photo.url).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">"; @output_buffer.concat(( @listing.description).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table  style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "<tr><th>Groups</th></tr>\n"
 for group in @groups do; @output_buffer.concat "\n"
@output_buffer.concat(( render :partial => "group/group", :locals => {:group => group}).to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
 if session[:user_id] != nil; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>Post to group </label>\n"
form_tag do; @output_buffer.concat "\n"
@output_buffer.concat(( select_tag "group_list", @options).to_s); @output_buffer.concat "&nbsp;&nbsp;\n"
@output_buffer.concat(( submit_to_remote "Submit","Submit", :url => {:controller => "group", :action => "addListing", :id => @listing.id%}>
<%end).to_s); @output_buffer.concat "\t\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\" >\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t\t<td width=\"1%\">\n"
@output_buffer.concat "\t\t\t<table>\n"
@output_buffer.concat "\t\t\t\t<tr><th>Map & Directions - "; @output_buffer.concat((@address ).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr>\n"
@output_buffer.concat "\t\t\t\t<td width=\"1%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( GMap.header).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.to_html ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( @map.div(:width => 500, :height => 300) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t</td>\n"
@output_buffer.concat "\t\t\t\t</tr>\n"
@output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t\t<tr><th colspan=\"2\">Ratings & Reviews</th></tr>\n"
@output_buffer.concat "\t\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "reviews").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<table width=\"100%\">\n"
@output_buffer.concat "\t\t\t<tr><th>Taggings</th></tr>\n"
@output_buffer.concat "\t\t\t<tr><td>"; @output_buffer.concat(( render :partial => "tags").to_s); @output_buffer.concat "</td></tr>\n"
@output_buffer.concat "\t\t\t</table>\n"
@output_buffer.concat "\t\t</td>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/index.rhtml:55:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/index.rhtml:54: syntax error, unexpected '}'
...Listing", :id => @listing.id%}>
                              ^
C:/Rails/travel/app/views/listing/index.rhtml:55: unknown type of %string
<%end).to_s); @output_buffer.concat "\t\n"
    ^) on line #54 of app/views/listing/index.rhtml:
51: <label>Post to group </label>
52: <%form_tag do%>
53: <%= select_tag "group_list", @options%>&nbsp;&nbsp;
54: <%= submit_to_remote "Submit","Submit", :url => {:controller => "group", :action => "addListing", :id => @listing.id%}>
55: <%end%>	
56: </td>
57: </tr>

    app/views/listing/index.rhtml:55:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:16:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 906ms (View: 109, DB: 16) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:16:57) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 938ms (View: 109, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:17:16) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 922ms (View: 78, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:17:27) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (62.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 907ms (View: 220, DB: 15) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:17:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (156.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 922ms (View: 188, DB: 46) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:20:19) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m

TypeError (wrong argument type Listing (expected Module)):
  app/controllers/listing_controller.rb:16:in `index'
  app/controllers/listing_controller.rb:15:in `each'
  app/controllers/listing_controller.rb:15:in `index'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:21:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 875ms (View: 46, DB: 48) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:27:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (78.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 875ms (View: 63, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 04:28:16) [POST]
  Parameters: {"group_list"=>"-1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}

ActionController::RoutingError (No route matches "/group/addListing/5" with {:method=>:post}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 04:28:27) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}

ActionController::RoutingError (No route matches "/group/addListing/5" with {:method=>:post}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:34:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered listing/_groups (16.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 938ms (View: 79, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 04:34:56) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}

ActionController::RoutingError (No route matches "/group/addListing/5" with {:method=>:post}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:36:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered listing/_groups (16.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (125.0ms)
  [4;35;1mTagging Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `taggings`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `tags`[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (141.0ms)
Completed in 1125ms (View: 297, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 04:36:22) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsGroups Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-29 20:36:22', 5, 1, '2010-08-29 20:36:22')[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m

ActionView::MissingTemplate (Missing template group/_groups.erb in view path app/views):
  app/controllers/group_controller.rb:21:in `__instance_exec0'
  app/controllers/group_controller.rb:20:in `addListing'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:37:03) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (47.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (203.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 968ms (View: 282, DB: 31) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:37:18) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (93.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (110.0ms)
Completed in 938ms (View: 235, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 04:37:25) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (0.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-29 20:37:25', 5, 1, '2010-08-29 20:37:25')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #12 of app/views/listing/_groups.rhtml:
9: <%form_tag do%>
10: <label>Post to group: </label>
11: <%= select_tag "group_list", @options%>&nbsp;
12: <%= submit_to_remote "Submit","Submit", :url => {:controller => "group", :action => "addListing", :id => @listing.id}%>
13: <%end%>	
14: </td>
15: </tr>

    app/views/listing/_groups.rhtml:12:in `_run_rhtml_app47views47listing47_groups46rhtml_locals_groups_object'
    app/views/listing/_groups.rhtml:9:in `_run_rhtml_app47views47listing47_groups46rhtml_locals_groups_object'
    app/controllers/group_controller.rb:21:in `__instance_exec0'
    app/controllers/group_controller.rb:20:in `addListing'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:38:52) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 782ms (View: 94, DB: 32) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 04:38:57) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (0.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-29 20:38:57', 5, 1, '2010-08-29 20:38:57')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
Completed in 125ms (View: 0, DB: 47) | 200 OK [http://localhost/group/addListing/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (172.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to CreateRates (20100827111017)
Migrating to CreateReviews (20100829042938)
Migrating to CreateListingsGroups (20100829185811)
Migrating to CreatePageViews (20100829204835)
  [4;36;1mSQL (62.0ms)[0m   [0;1mCREATE TABLE `page_views` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `controller` varchar(255), `action` varchar(255), `page_view` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (16.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100829204835')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `countries`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `countries`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `countries`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `listings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `listings`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `listings_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `listings_groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `page_views`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW KEYS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `rates`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `reviews`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `taggings`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `taggings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `taggings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `tags`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `users_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:57:01) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Create (0.0ms)[0m   [0;1mINSERT INTO `page_views` (`updated_at`, `page_view`, `action`, `controller`, `created_at`) VALUES('2010-08-29 20:57:01', 1, 'index', 'listing', '2010-08-29 20:57:01')[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m

ActionView::TemplateError (undefined method `page_view' for nil:NilClass) on line #36 of app/views/listing/index.rhtml:
33: <table style="margin-top: 20px;" width="90%" align="center">
34: <tr>
35: <th><%=@listing.hook%></th>
36: <th style="text-align:right;"><%= @pageView.page_view%> view(s)</th>
37: </tr>
38: <tr>
39: <td width="1%" valign="top"><%= image_tag @listing.photo.url%></td>

    app/views/listing/index.rhtml:36:in `_run_rhtml_app47views47listing47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:57:32) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 2, `updated_at` = '2010-08-29 20:57:32' WHERE `id` = 1[0m
  [4;35;1mSQL (46.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (16.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (78.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 875ms (View: 94, DB: 139) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:57:39) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 3, `updated_at` = '2010-08-29 20:57:39' WHERE `id` = 1[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (15.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 860ms (View: 78, DB: 94) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:59:05) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (15.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Create (0.0ms)[0m   [0;1mINSERT INTO `page_views` (`updated_at`, `page_view`, `action`, `controller`, `created_at`) VALUES('2010-08-29 20:59:06', 1, 'index', 'listing', '2010-08-29 20:59:06')[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 844ms (View: 94, DB: 109) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 04:59:10) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 2, `updated_at` = '2010-08-29 20:59:10' WHERE `id` = 2[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (16.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (63.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 890ms (View: 93, DB: 79) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 05:00:20) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 3, `updated_at` = '2010-08-29 21:00:21' WHERE `id` = 2[0m
  [4;35;1mSQL (63.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (63.0ms)
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (15.0ms)
Completed in 859ms (View: 94, DB: 94) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 05:16:56) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 4, `updated_at` = '2010-08-29 21:16:56' WHERE `id` = 2[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 859ms (View: 77, DB: 95) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addTag (for 127.0.0.1 at 2010-08-30 10:45:14) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5", "tag_list"=>"test again"}
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'test again') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'test again') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('test again')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`, `created_at`) VALUES(10, 'Listing', 5, '2010-08-30 02:45:14')[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 94ms (View: 16, DB: 46) | 200 OK [http://localhost/listing/addTag/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:45:54) [GET]

ActionView::MissingTemplate (Missing template group/index.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:53:22) [GET]
  [4;36;1mGroup Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:37: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:37:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:37: syntax error, unexpected kEND, expecting ')') on line #35 of app/views/group/index.rhtml:
32: </body>
33: </html>

    app/views/group/index.rhtml:37:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:54:09) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:35:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')') on line #33 of app/views/group/index.rhtml:
30: </table>
31: </body>
32: </html>

    app/views/group/index.rhtml:35:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:54:23) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://localhost/group]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:55:25) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
Completed in 31ms (View: 0, DB: 15) | 200 OK [http://localhost/group]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:55:27) [GET]
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
Completed in 47ms (View: 0, DB: 16) | 200 OK [http://localhost/group]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:55:45) [GET]
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:35:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')') on line #33 of app/views/group/index.rhtml:
30: </table>
31: </body>
32: </html>

    app/views/group/index.rhtml:35:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:56:21) [GET]
  [4;36;1mGroup Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:25:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')') on line #23 of app/views/group/index.rhtml:
20: </table>
21: </body>
22: </html>

    app/views/group/index.rhtml:25:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (15.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:56:22) [GET]
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:25:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')') on line #23 of app/views/group/index.rhtml:
20: </table>
21: </body>
22: </html>

    app/views/group/index.rhtml:25:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:56:33) [GET]
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right\">\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:25:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:23: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:25: syntax error, unexpected kEND, expecting ')') on line #23 of app/views/group/index.rhtml:
20: </table>
21: </body>
22: </html>

    app/views/group/index.rhtml:25:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:57:32) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:35:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:33: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:35: syntax error, unexpected kEND, expecting ')') on line #33 of app/views/group/index.rhtml:
30: </table>
31: </body>
32: </html>

    app/views/group/index.rhtml:35:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (157.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:58:07) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:18: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:20: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:20:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:18: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:20: syntax error, unexpected kEND, expecting ')') on line #18 of app/views/group/index.rhtml:
15: </table>
16: </body>
17: </html>

    app/views/group/index.rhtml:20:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:58:09) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:18: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:20: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:20:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:18: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:20: syntax error, unexpected kEND, expecting ')') on line #18 of app/views/group/index.rhtml:
15: </table>
16: </body>
17: </html>

    app/views/group/index.rhtml:20:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 10:58:43) [GET]
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #7 of app/views/group/index.rhtml:
4: <html>
5: 
6: <head>
7: 	<title>Andrew's Travel - <%="#{@group.hook}"%></title>
8: 	<%= stylesheet_link_tag "travel", :media => "all" %>
9: 	<%= javascript_include_tag :defaults %>
10: 	

    app/views/group/index.rhtml:7:in `_run_rhtml_app47views47group47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:00:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 5, `updated_at` = '2010-08-30 03:00:24' WHERE `id` = 2[0m
  [4;35;1mSQL (46.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (16.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 985ms (View: 94, DB: 110) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:00:25) [GET]
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` IS NULL) LIMIT 1[0m
Rendering group/index

ActionView::TemplateError (undefined method `hook' for nil:NilClass) on line #7 of app/views/group/index.rhtml:
4: <html>
5: 
6: <head>
7: 	<title>Andrew's Travel - <%="#{@group.hook}"%></title>
8: 	<%= stylesheet_link_tag "travel", :media => "all" %>
9: 	<%= javascript_include_tag :defaults %>
10: 	

    app/views/group/index.rhtml:7:in `_run_rhtml_app47views47group47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:00:29) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 6, `updated_at` = '2010-08-30 03:00:29' WHERE `id` = 2[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (0.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 844ms (View: 109, DB: 47) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:00:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:01:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Completed in 47ms (View: 15, DB: 32) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:03:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m

ActionView::TemplateError (undefined method `name' for nil:NilClass) on line #3 of app/views/travel/_listings.rhtml:
1: <% if @listings != nil and @listings.length > 0%>
2: 	<table style="margin-top: 20px;" width="90%" align="center">
3: 		<tr><th colspan="2">Listing in <%= @city.name%></th></tr>
4: 		
5: 		<%= render :partial => "listing", :collection => @listings%>
6: 		

    app/views/travel/_listings.rhtml:3:in `_run_rhtml_app47views47travel47_listings46rhtml_locals_listings_object'
    app/views/group/index.rhtml:32:in `_run_rhtml_app47views47group47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:04:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m

ActionView::TemplateError (Missing template group/_listing.erb in view path app/views) on line #5 of app/views/travel/_listings.rhtml:
2: 	<table style="margin-top: 20px;" width="90%" align="center">
3: 		<tr><th colspan="2">Listings</th></tr>
4: 		
5: 		<%= render :partial => "listing", :collection => @listings%>
6: 		
7: 	</table>
8: <% end%>

    app/views/travel/_listings.rhtml:5:in `_run_rhtml_app47views47travel47_listings46rhtml_locals_listings_object'
    app/views/group/index.rhtml:32:in `_run_rhtml_app47views47group47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (188.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:05:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered travel/_listing (16.0ms)
Rendered travel/_listings (47.0ms)
Completed in 125ms (View: 63, DB: 30) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:06:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (47.0ms)
Completed in 110ms (View: 63, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:07:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (110.0ms)
Completed in 157ms (View: 125, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:50:26) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 7, `updated_at` = '2010-08-30 03:50:26' WHERE `id` = 2[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (16.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (203.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 985ms (View: 204, DB: 108) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:50:47) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 8, `updated_at` = '2010-08-30 03:50:48' WHERE `id` = 2[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered listing/_groups (0.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mRate Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mRate Load (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 828ms (View: 63, DB: 62) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#addGroup (for 127.0.0.1 at 2010-08-30 11:50:52) [POST]
  Parameters: {"group_list"=>"1", "Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"5"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (0.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 03:50:52', 5, 1, '2010-08-30 03:50:52')[0m
  [4;36;1mSQL (78.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
Completed in 171ms (View: 15, DB: 110) | 200 OK [http://localhost/listing/addGroup/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 11:53:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (31.0ms)
Completed in 94ms (View: 47, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:54:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 2) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 2) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 9, `updated_at` = '2010-08-30 03:54:43' WHERE `id` = 2[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (16.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 2) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 922ms (View: 79, DB: 109) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#logout (for 127.0.0.1 at 2010-08-30 11:54:45) [GET]
Redirected to http://localhost:3000/user/login
Completed in 16ms (DB: 0) | 302 Found [http://localhost/user/logout]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 11:54:45) [GET]
Rendering user/login
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 11:54:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (16.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5) [0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;36;1mPageView Load (0.0ms)[0m   [0;1mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;35;1mPageView Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `page_views`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPageView Update (0.0ms)[0m   [0mUPDATE `page_views` SET `page_view` = 10, `updated_at` = '2010-08-30 03:54:51' WHERE `id` = 2[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendering listing/index
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;36;1mRate Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendered listing/_review_list (16.0ms)
Rendered listing/_reviews (78.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 1016ms (View: 79, DB: 110) | 200 OK [http://localhost/listing/index/5]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:02:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:46: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(("#{@group.hook}").to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center;\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat(( render :partial => "listing/listings", :locals => {:listings => @listings}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center;\">\n"
@output_buffer.concat "<tr><th>Post listing(s) to group</th></tr>\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 form_tag do; @output_buffer.concat "\n"
end; @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "<tr><td>Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to use this function</td></tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:46:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:46: syntax error, unexpected kENSURE, expecting $end) on line #46 of app/views/group/index.rhtml:
43: <% end%>
44: </body>
45: </html>

    app/views/group/index.rhtml:46:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:02:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (47.0ms)
Completed in 94ms (View: 63, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:03:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (15.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (31.0ms)
Completed in 172ms (View: 125, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:03:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (15.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (31.0ms)
Completed in 78ms (View: 32, DB: 30) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:03:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (47.0ms)
Completed in 93ms (View: 62, DB: 0) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:03:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (110.0ms)
Completed in 172ms (View: 125, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:04:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listings (32.0ms)
Completed in 78ms (View: 47, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:05:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (16.0ms)
Rendered listing/_listings (47.0ms)
Completed in 94ms (View: 62, DB: 0) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:08:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:39: syntax error, unexpected kEND, expecting ')'
 end; @output_buffer.concat "\n"
    ^
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(("#{@group.hook}").to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
 if @listings != nil and @listings.length > 0; @output_buffer.concat "\n"
@output_buffer.concat "\t<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t\t<tr><th colspan=\"2\">Listings in group "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( render :partial => "listing/listing", :collection => @listings).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</table>\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr><th>Post listing(s) to group</th></tr>\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
else; @output_buffer.concat "\n"
@output_buffer.concat "<tr><td>Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to use this function</td></tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:58:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:39: syntax error, unexpected kEND, expecting ')'
 end; @output_buffer.concat "\n"
    ^
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')') on line #39 of app/views/group/index.rhtml:
36: 		<%= render :partial => "listing/listing", :collection => @listings%>
37: 		
38: 	</table>
39: <% end%>
40: 
41: 
42: <table style="margin-top: 20px;" width="90%" align="center">

    app/views/group/index.rhtml:58:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:09:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:39: syntax error, unexpected kEND, expecting ')'
end; @output_buffer.concat "\n"
   ^
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(("#{@group.hook}").to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
 if @listings != nil and @listings.length > 0; @output_buffer.concat "\n"
@output_buffer.concat "\t<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t\t<tr><th colspan=\"2\">Listings in group "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( render :partial => "listing/listing", :collection => @listings).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</table>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr><th>Post listing(s) to group</th></tr>\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
else; @output_buffer.concat "\n"
@output_buffer.concat "<tr><td>Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to use this function</td></tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:58:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:39: syntax error, unexpected kEND, expecting ')'
end; @output_buffer.concat "\n"
   ^
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')') on line #39 of app/views/group/index.rhtml:
36: 		<%= render :partial => "listing/listing", :collection => @listings%>
37: 		
38: 	</table>
39: <%end%>
40: 
41: 
42: <table style="margin-top: 20px;" width="90%" align="center">

    app/views/group/index.rhtml:58:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:10:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(("#{@group.hook}").to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th colspan=\"2\">Listings in group "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t"; @output_buffer.concat(( render :partial => "listing/listing", :collection => @listings).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr><th>Post listing(s) to group</th></tr>\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
else; @output_buffer.concat "\n"
@output_buffer.concat "<tr><td>Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to use this function</td></tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:58:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')') on line #56 of app/views/group/index.rhtml:
53: 
54: </body>
55: </html>

    app/views/group/index.rhtml:58:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (157.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:10:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
ERROR: compiling _run_rhtml_app47views47group47index46rhtml RAISED compile error
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47group47index46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat(("#{@group.hook}").to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "<table style=\"margin-top: 0px;\" width=\"100%\" align=\"center\">\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td valign=\"top\" style=\"font-size: large; font-weight: bold; color: #4E9258;\">Andrew's Travel</td>\n"
@output_buffer.concat "<td valign=\"top\" style=\"text-align:right;\">\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
 @user = User.find_by_id(session[:user_id]); @output_buffer.concat "\n"
@output_buffer.concat "\tHi <b><i>"; @output_buffer.concat((@user.username).to_s); @output_buffer.concat "</i></b>!\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign out", :controller => "user", :action => "logout").to_s); @output_buffer.concat "\n"
 else; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t&nbsp;|&nbsp;\n"
@output_buffer.concat "\t"; @output_buffer.concat((link_to "Register", :controller => "user", :action => "register").to_s); @output_buffer.concat "\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t<tr><th colspan=\"2\">Listings in group "; @output_buffer.concat((#{@group.hook}).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t"; @output_buffer.concat(( render :partial => "listing/listing", :collections => @listings).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "<tr><th>Post listing(s) to group</th></tr>\n"
 if session[:user_id] != nil ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
else; @output_buffer.concat "\n"
@output_buffer.concat "<tr><td>Please "; @output_buffer.concat((link_to "sign in", :controller => "user", :action => "login").to_s); @output_buffer.concat " to use this function</td></tr>\n"
end; @output_buffer.concat "\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/group/index.rhtml:58:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/group/index.rhtml:56: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/group/index.rhtml:58: syntax error, unexpected kEND, expecting ')') on line #56 of app/views/group/index.rhtml:
53: 
54: </body>
55: </html>

    app/views/group/index.rhtml:58:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:11:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Completed in 266ms (View: 235, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:12:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Completed in 79ms (View: 47, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:12:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Completed in 172ms (View: 125, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-30 12:12:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (15.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering travel/city
ERROR: compiling _run_rhtml_app47views47travel47city46rhtml RAISED compile error
C:/Rails/travel/app/views/travel/city.rhtml:22: syntax error, unexpected kEND, expecting ')'
 end; @output_buffer.concat "\n"
    ^
C:/Rails/travel/app/views/travel/city.rhtml:27: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/travel/city.rhtml:29: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47travel47city46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n"
@output_buffer.concat "\t\t\t\t\t  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n"
@output_buffer.concat "\n"
@output_buffer.concat "<html>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<head>\n"
@output_buffer.concat "\t<title>Andrew's Travel - "; @output_buffer.concat((@city.name).to_s); @output_buffer.concat "</title>\n"
@output_buffer.concat "\t"; @output_buffer.concat(( stylesheet_link_tag "travel", :media => "all" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag :defaults ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( javascript_include_tag "travel/travelHelper" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</head>\n"
@output_buffer.concat "<body>\n"
@output_buffer.concat "\n"
 if @listings != nil and @listings.length > 0; @output_buffer.concat "\n"
@output_buffer.concat "\t<table style=\"margin-top: 20px;\" width=\"90%\" align=\"center\">\n"
@output_buffer.concat "\t\t<tr><th colspan=\"2\">Listings in city "; @output_buffer.concat((#{@city.name}).to_s); @output_buffer.concat "</th></tr>\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( render :partial => "listing/listing", :collection => @listings).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t</table>\n"
 end; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "</body>\n"
@output_buffer.concat "</html>\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/travel/city.rhtml:29:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/travel/city.rhtml:22: syntax error, unexpected kEND, expecting ')'
 end; @output_buffer.concat "\n"
    ^
C:/Rails/travel/app/views/travel/city.rhtml:27: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/travel/city.rhtml:29: syntax error, unexpected kEND, expecting ')') on line #22 of app/views/travel/city.rhtml:
19: 		<%= render :partial => "listing/listing", :collection => @listings%>
20: 		
21: 	</table>
22: <% end%>
23: 
24: </body>
25: </html>

    app/views/travel/city.rhtml:29:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-30 12:12:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (16.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering travel/city
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (16.0ms)
Completed in 94ms (View: 47, DB: 16) | 200 OK [http://localhost/travel/city/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#city (for 127.0.0.1 at 2010-08-30 12:13:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCity Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = '1') LIMIT 1[0m
Rendering travel/city
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.city_id = 1) [0m
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Completed in 62ms (View: 16, DB: 31) | 200 OK [http://localhost/travel/city/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 12:13:12) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mCity Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mCity Load (0.0ms)[0m   [0;1mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` [0m
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5) [0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 11, `updated_at` = '2010-08-30 04:13:13' WHERE `id` = 2[0m
  [4;35;1mSQL (47.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (16.0ms)
Rendered listing/_groups (16.0ms)
  [4;35;1mRate Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mReview Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendered listing/_review_list (31.0ms)
Rendered listing/_reviews (78.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (0.0ms)
Completed in 859ms (View: 79, DB: 78) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:13:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
Rendering group/index
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered listing/_listing (0.0ms)
Completed in 78ms (View: 31, DB: 32) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 12:19:38) [GET]
Rendering user/login
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserController#login (for 127.0.0.1 at 2010-08-30 12:19:45) [POST]
  Parameters: {"user"=>{"username"=>"emma.nguyen", "password"=>"thuydung"}, "commit"=>"Log in", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc="}
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`username` = 'emma.nguyen') LIMIT 1[0m
Redirected to http://localhost:3000/listing/index/5
Completed in 16ms (DB: 0) | 302 Found [http://localhost/user/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ListingController#index (for 127.0.0.1 at 2010-08-30 12:19:45) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mCity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `cities`[0m
  [4;35;1mCity Load (0.0ms)[0m   [0mSELECT * FROM `cities` WHERE (`cities`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` [0m
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mReview Load (0.0ms)[0m   [0mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id != 1) [0m
  [4;36;1mReview Load (0.0ms)[0m   [0;1mSELECT * FROM `reviews` WHERE (listing_id = 5 and user_id = 1) LIMIT 1[0m
Google reverse-geocoding. LL: 48.864,2.33105. Result: <?xml version="1.0" encoding="UTF-8" ?>
<kml xmlns="http://earth.google.com/kml/2.0"><Response>
  <name>48.864000,2.331050</name>
  <Status>
    <code>200</code>
    <request>geocode</request>
  </Status>
  <Placemark id="p1">
    <address>198 Rue de Rivoli, 75001 Paris, France</address>
    <AddressDetails Accuracy="8" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><Thoroughfare><ThoroughfareName>198 Rue de Rivoli</ThoroughfareName></Thoroughfare><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8673663" south="48.8610711" east="2.3342423" west="2.3279471" />
    </ExtendedData>
    <Point><coordinates>2.3310947,48.8642187,0</coordinates></Point>
  </Placemark>
  <Placemark id="p2">
    <address>1st arrondissement of Paris, 75001 Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><AddressLine>1er Arrondissement</AddressLine></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3411678,48.8602400,0</coordinates></Point>
  </Placemark>
  <Placemark id="p3">
    <address>75001 Paris, France</address>
    <AddressDetails Accuracy="5" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName><PostalCode><PostalCodeNumber>75001</PostalCodeNumber></PostalCode></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.8699089" south="48.8540202" east="2.3509551" west="2.3209302" />
    </ExtendedData>
    <Point><coordinates>2.3310526,48.8640493,0</coordinates></Point>
  </Placemark>
  <Placemark id="p4">
    <address>Paris, France</address>
    <AddressDetails Accuracy="4" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName><Locality><LocalityName>Paris</LocalityName></Locality></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3509871,48.8566667,0</coordinates></Point>
  </Placemark>
  <Placemark id="p5">
    <address>Paris, France</address>
    <AddressDetails Accuracy="3" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName><SubAdministrativeArea><SubAdministrativeAreaName>Paris</SubAdministrativeAreaName></SubAdministrativeArea></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="48.9021461" south="48.8155414" east="2.4699099" west="2.2241006" />
    </ExtendedData>
    <Point><coordinates>2.3461207,48.8763337,0</coordinates></Point>
  </Placemark>
  <Placemark id="p6">
    <address>Ile-de-France, France</address>
    <AddressDetails Accuracy="2" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName><AdministrativeArea><AdministrativeAreaName>Ile-de-France</AdministrativeAreaName></AdministrativeArea></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="49.2339157" south="48.1204485" east="3.5588048" west="1.4465224" />
    </ExtendedData>
    <Point><coordinates>2.6370411,48.8499198,0</coordinates></Point>
  </Placemark>
  <Placemark id="p7">
    <address>France</address>
    <AddressDetails Accuracy="1" xmlns="urn:oasis:names:tc:ciq:xsdschema:xAL:2.0"><Country><CountryNameCode>FR</CountryNameCode><CountryName>France</CountryName></Country></AddressDetails>
    <ExtendedData>
      <LatLonBox north="51.1242000" south="41.3253000" east="9.6625000" west="-5.5591000" />
    </ExtendedData>
    <Point><coordinates>2.2137490,46.2276380,0</coordinates></Point>
  </Placemark>
</Response></kml>
  [4;35;1mPageView Load (0.0ms)[0m   [0mSELECT * FROM `page_views` WHERE (controller = 'listing' and action = 'index') LIMIT 1[0m
  [4;36;1mPageView Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPageView Update (0.0ms)[0m   [0;1mUPDATE `page_views` SET `page_view` = 12, `updated_at` = '2010-08-30 04:19:45' WHERE `id` = 2[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
Rendering listing/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT `groups`.* FROM `groups` INNER JOIN `listings_groups` ON `groups`.id = `listings_groups`.group_id WHERE ((`listings_groups`.listing_id = 5)) [0m
Rendered group/_group (0.0ms)
Rendered listing/_groups (0.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mRate Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT sum(`rates`.stars) AS sum_stars FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rates` WHERE (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) [0m
  [4;36;1mRate Load (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `rates` WHERE (`rates`.`rater_id` = 1) AND (`rates`.rateable_id = 5 AND `rates`.rateable_type = 'Listing' AND (`rates`.`dimension` IS NULL)) LIMIT 1[0m
  [4;35;1mReview Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `reviews`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendered listing/_review_list (15.0ms)
Rendered listing/_reviews (62.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Listing') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'paris') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'day tour') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'coach') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`name` = 'test again') LIMIT 1[0m
Rendered listing/_tags (16.0ms)
Completed in 844ms (View: 109, DB: 63) | 200 OK [http://localhost/listing/index/5]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:19:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Completed in 109ms (View: 31, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:21:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Completed in 93ms (View: 31, DB: 15) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:54:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Completed in 188ms (View: 109, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListings (for 127.0.0.1 at 2010-08-30 12:54:59) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>["6", "7"]}

ActionController::UnknownAction (No action responded to addListings. Actions: index):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:55:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Completed in 93ms (View: 31, DB: 15) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 12:56:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Completed in 94ms (View: 31, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:07:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering template within layouts/group
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 109ms (View: 32, DB: 45) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:07:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (15.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering template within layouts/group
Rendering group/index
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 110ms (View: 16, DB: 47) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:09:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 109ms (View: 31, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListings (for 127.0.0.1 at 2010-08-30 13:09:57) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>["6", "7"]}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '6') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsGroups Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:09:57', 6, 1, '2010-08-30 05:09:57')[0m
  [4;35;1mSQL (62.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '7') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:09:57', 7, 1, '2010-08-30 05:09:57')[0m
  [4;35;1mSQL (16.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (15.0ms)
Completed in 187ms (View: 15, DB: 94) | 200 OK [http://localhost/group/addListings/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:10:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 31, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:10:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered group/_content (0.0ms)
Completed in 172ms (View: 0, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered group/_content (0.0ms)
Completed in 78ms (View: 15, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:12:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered group/_content (0.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListings (for 127.0.0.1 at 2010-08-30 13:12:31) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>["5"]}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (15.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (0.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:12:31', 5, 1, '2010-08-30 05:12:31')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (16.0ms)
Completed in 141ms (View: 16, DB: 62) | 200 OK [http://localhost/group/addListings/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:13:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 93ms (View: 31, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:15:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:16:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:16:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 32, DB: 15) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:18:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 0, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 13:18:11) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"7"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '7') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsGroups Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:18:11', 7, 1, '2010-08-30 05:18:11')[0m
  [4;35;1mSQL (31.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (16.0ms)
Completed in 219ms (View: 16, DB: 47) | 200 OK [http://localhost/group/addListing/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 13:18:15) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"6"}
  [4;35;1mGroup Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (16.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '6') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (32.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:18:15', 6, 1, '2010-08-30 05:18:15')[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (16.0ms)
Rendered group/_content (16.0ms)
Completed in 172ms (View: 16, DB: 111) | 200 OK [http://localhost/group/addListing/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:22:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (16.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered group/_content (0.0ms)
Completed in 93ms (View: 0, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 13:23:02) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"5"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '5') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsGroups Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:23:02', 5, 1, '2010-08-30 05:23:02')[0m
  [4;35;1mSQL (32.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (16.0ms)
Completed in 141ms (View: 31, DB: 32) | 200 OK [http://localhost/group/addListing/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:24:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (15.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
ERROR: compiling _run_rhtml_app47views47listing47_listing46rhtml_locals_listing_listing_counter_object RAISED compile error
C:/Rails/travel/app/views/listing/_listing.rhtml:7: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/listing/_listing.rhtml:9: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_rhtml_app47views47listing47_listing46rhtml_locals_listing_listing_counter_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];listing_counter = local_assigns[:listing_counter];listing = local_assigns[:listing];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<tr id=\"listing_"; @output_buffer.concat((#{listing.id}).to_s); @output_buffer.concat "\">\n"
@output_buffer.concat "<td width=\"1%\">"; @output_buffer.concat(( image_tag listing.photo.url(:thumb) ).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "<td width=\"99%\" valign=\"top\">\n"
@output_buffer.concat "\t&nbsp;&nbsp;"; @output_buffer.concat((link_to("#{listing.hook}", :controller => "listing", :action => "index", :id => listing.id)).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/listing/_listing.rhtml:9:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:222:in `render_partial_collection'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_collection.rb:369:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `map'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_collection.rb:369:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:216:in `render_partial_collection'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:182:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/group/_content.rhtml:5:in `_run_rhtml_app47views47group47_content46rhtml_locals_content_object'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/group/index.rhtml:33:in `_run_rhtml_app47views47group47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/listing/_listing.rhtml:7: syntax error, unexpected kENSURE, expecting ')'
C:/Rails/travel/app/views/listing/_listing.rhtml:9: syntax error, unexpected kEND, expecting ')') on line #7 of app/views/listing/_listing.rhtml:
4: 	&nbsp;&nbsp;<%=link_to("#{listing.hook}", :controller => "listing", :action => "index", :id => listing.id)%>
5: </td>
6: </tr>

    app/views/listing/_listing.rhtml:9:in `compile!'
    app/views/group/_content.rhtml:5:in `_run_rhtml_app47views47group47_content46rhtml_locals_content_object'
    app/views/group/index.rhtml:33:in `_run_rhtml_app47views47group47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:24:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (16.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 31, DB: 32) | 200 OK [http://localhost/group/index/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 13:24:33) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"6"}
  [4;35;1mGroup Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `groups`[0m
  [4;36;1mGroup Load (0.0ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;35;1mListing Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` WHERE (`listings`.`id` = '6') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mListingsGroups Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_groups`[0m
  [4;35;1mListingsGroups Create (15.0ms)[0m   [0mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:24:33', 6, 1, '2010-08-30 05:24:33')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 125ms (View: 16, DB: 62) | 200 OK [http://localhost/group/addListing/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#index (for 127.0.0.1 at 2010-08-30 13:25:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (15.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
Rendering group/index
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 94ms (View: 0, DB: 31) | 200 OK [http://localhost/group/index/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing GroupController#addListing (for 127.0.0.1 at 2010-08-30 13:25:55) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"7"}
  [4;36;1mGroup Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.0ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (15.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '7') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsGroups Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mListingsGroups Create (0.0ms)[0m   [0;1mINSERT INTO `listings_groups` (`updated_at`, `listing_id`, `group_id`, `created_at`) VALUES('2010-08-30 05:25:55', 7, 1, '2010-08-30 05:25:55')[0m
  [4;35;1mSQL (47.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_groups`.group_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.* FROM `listings` INNER JOIN `listings_groups` ON `listings`.id = `listings_groups`.listing_id WHERE ((`listings_groups`.group_id = 1)) [0m
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered listing/_listing (0.0ms)
Rendered group/_content (0.0ms)
Completed in 156ms (View: 16, DB: 62) | 200 OK [http://localhost/group/addListing/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20100718212501)
Migrating to CreateGroups (20100718212751)
Migrating to CreateUsersGroups (20100718214027)
Migrating to CreateCountries (20100718214432)
Migrating to CreateCities (20100718215154)
Migrating to CreateListings (20100718215709)
Migrating to ActsAsTaggableMigration (20100827063644)
Migrating to CreateRates (20100827111017)
Migrating to CreateReviews (20100829042938)
Migrating to CreateListingsGroups (20100829185811)
Migrating to CreatePageViews (20100829204835)
Migrating to CreateContacts (20100830052959)
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE `contacts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (31.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100830052959')[0m
Migrating to CreateListingsContacts (20100830053231)
  [4;36;1mSQL (47.0ms)[0m   [0;1mCREATE TABLE `listings_contacts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (32.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20100830053231')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `cities`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `cities`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `cities`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `contacts`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `contacts`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `countries`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW KEYS FROM `countries`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `groups`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW KEYS FROM `groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `listings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `listings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings_contacts`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mdescribe `listings_contacts`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `listings_contacts`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_groups`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mdescribe `listings_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `listings_groups`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `page_views`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `page_views`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `page_views`[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSHOW FIELDS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `rates`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `rates`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `reviews`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mdescribe `reviews`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW KEYS FROM `reviews`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW FIELDS FROM `taggings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `taggings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW KEYS FROM `taggings`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW FIELDS FROM `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `tags`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSHOW KEYS FROM `tags`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mdescribe `users_groups`[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSHOW KEYS FROM `users_groups`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-08-30 13:55:52) [GET]

ActionController::RoutingError (No route matches "/contact/index" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 13:56:38) [GET]
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 172ms (View: 94, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:04:16) [GET]
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 62ms (View: 31, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:19:47) [GET]
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 46ms (View: 15, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:19:50) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 31ms (View: 15, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:20:09) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
Rendered contact/_content (0.0ms)
Completed in 47ms (View: 31, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:20:24) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
Rendered contact/_content (0.0ms)
Completed in 47ms (View: 16, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:31:08) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
Rendered contact/_content (0.0ms)
Completed in 46ms (View: 31, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:31:20) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m
  [4;35;1mContact Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mContact Create (0.0ms)[0m   [0mINSERT INTO `contacts` (`name`, `updated_at`, `user_id`, `created_at`) VALUES('europe', '2010-08-30 06:31:20', 1, '2010-08-30 06:31:20')[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mCOMMIT[0m
Rendered contact/_content (0.0ms)
Completed in 62ms (View: 0, DB: 47) | 200 OK [http://localhost/contact/createContact]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:31:28) [GET]
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
Rendered contact/_content (15.0ms)
Completed in 47ms (View: 15, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:33:45) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 15, DB: 32) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:33:49) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m

NameError (undefined local variable or method `page' for #<ContactController:0x482d6ac>):
  app/controllers/contact_controller.rb:24:in `createContact'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:33:54) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m

NameError (undefined local variable or method `page' for #<ContactController:0x4687a00>):
  app/controllers/contact_controller.rb:24:in `createContact'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:34:39) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (0.0ms)
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:34:42) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m
  [4;36;1mContact Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Completed in 32ms (View: 0, DB: 16) | 200 OK [http://localhost/contact/createContact]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:34:46) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Completed in 32ms (View: 16, DB: 0) | 200 OK [http://localhost/contact/createContact]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#createContact (for 127.0.0.1 at 2010-08-30 14:34:49) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "contact"=>"europe"}
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (user_id = 1 and name = 'europe') LIMIT 1[0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/contact/createContact]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:46:22) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m

ActionView::TemplateError (undefined local variable or method `contant' for #<ActionView::Base:0x48b46c0>) on line #4 of app/views/contact/_contact.rhtml:
1: <tr id="contact_<%="#{contact.id}"%>">
2: <td>
3: 	<table>
4: 		<tr><td colspan="2"><%= "#{contant.name.capitalize}"%></td><td><%=link_to "Print", :action => "printContact", :id => contact.id%></td></tr>
5: 		<tr><td>Add listing: </td><td></td></tr>
6: 		
7: 	</table>

    app/views/contact/_contact.rhtml:4:in `_run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object'
    app/views/contact/_content.rhtml:4:in `_run_rhtml_app47views47contact47_content46rhtml_locals_content_object'
    app/views/contact/index.rhtml:51:in `_run_rhtml_app47views47contact47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:46:42) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (31.0ms)
Completed in 140ms (View: 31, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:47:21) [GET]
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 0, DB: 32) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:47:58) [GET]
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (15.0ms)
Rendered contact/_content (15.0ms)
Completed in 62ms (View: 31, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:49:57) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:52:14) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 16, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:52:54) [GET]
  [4;35;1mUser Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (94.0ms)
Completed in 140ms (View: 109, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:53:10) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (15.0ms)
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:53:26) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 31, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:53:36) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:55:59) [GET]
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (32.0ms)
Completed in 63ms (View: 16, DB: 32) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:56:58) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (31.0ms)
Completed in 78ms (View: 46, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:57:55) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (15.0ms)
Rendered contact/_content (15.0ms)
Completed in 62ms (View: 31, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 14:58:17) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered contact/_contact (0.0ms)
Rendered contact/_content (16.0ms)
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:02:11) [GET]
  [4;35;1mUser Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
Rendered contact/_contact (31.0ms)
Rendered contact/_content (62.0ms)
Completed in 109ms (View: 78, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;35;1mSQL (0.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:07:55) [GET]
  [4;35;1mUser Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (0.0ms)[0m   [0;1mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;35;1mContact Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
ERROR: compiling _run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object RAISED compile error
C:/Rails/travel/app/views/contact/_contact.rhtml:15: unterminated string meets end of file
C:/Rails/travel/app/views/contact/_contact.rhtml:15: syntax error, unexpected $end, expecting '}'
Function body:           def _run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object(local_assigns)
            old_output_buffer = output_buffer;contact = local_assigns[:contact];contact_counter = local_assigns[:contact_counter];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<tr id=\"contact_"; @output_buffer.concat(("#{contact.id}").to_s); @output_buffer.concat "\">\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "\t<div class=\"contact_div\">\n"
@output_buffer.concat "\t<table>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t<td><label>"; @output_buffer.concat(( "#{contact.name.capitalize}").to_s); @output_buffer.concat "</label></td>\n"
@output_buffer.concat "\t<td>"; @output_buffer.concat((link_to "Print", :action => "printContact", :id => contact.id).to_s); @output_buffer.concat "</td>\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "\t<tr>\n"
@output_buffer.concat "\t<td><label>Add listing</label></td>\n"
@output_buffer.concat "\t<td>\n"
@output_buffer.concat "\t"; @options = "<option value='-1'>Choose a listing</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t"; for listing in Listing.find(:all); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; if !contact.listings.include?(listing); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @options = @options + "<option value='#{listing.id{'>listing.hook</option>"; @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "\t"; form_tag do; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((select_tag "listing_list", @options).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat((submit_to_remote "Submit","Submit", :url => {:controller => "contact", :action => "addListing", :id => contact.id}).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; end; @output_buffer.concat "\n"
@output_buffer.concat "\t</td>\n"
@output_buffer.concat "\t</tr>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t</table>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "</tr>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/Rails/travel/app/views/contact/_contact.rhtml:15:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:222:in `render_partial_collection'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_collection.rb:369:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `map'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_proxy.rb:215:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/associations/association_collection.rb:369:in `method_missing'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:216:in `render_partial_collection'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:182:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/contact/_content.rhtml:4:in `_run_rhtml_app47views47contact47_content46rhtml_locals_content_object'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:20:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:26:in `benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:19:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable_partial.rb:44:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/partials.rb:184:in `render_partial'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:267:in `render'
C:/Rails/travel/app/views/contact/index.rhtml:51:in `_run_rhtml_app47views47contact47index46rhtml'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:34:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:306:in `with_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:30:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/Rails/travel/app/views/contact/_contact.rhtml:15: unterminated string meets end of file
C:/Rails/travel/app/views/contact/_contact.rhtml:15: syntax error, unexpected $end, expecting '}') on line #15 of app/views/contact/_contact.rhtml:
12: 	<%@options = "<option value='-1'>Choose a listing</option>"%>
13: 	<%for listing in Listing.find(:all)%>
14: 		<%if !contact.listings.include?(listing)%>
15: 			<%@options = @options + "<option value='#{listing.id{'>listing.hook</option>"%>
16: 		<%end%>
17: 	<%end%>
18: 	<%form_tag do%>

    app/views/contact/_contact.rhtml:15:in `compile!'
    app/views/contact/_content.rhtml:4:in `_run_rhtml_app47views47contact47_content46rhtml_locals_content_object'
    app/views/contact/index.rhtml:51:in `_run_rhtml_app47views47contact47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:08:12) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m

ActionView::TemplateError (Could not find the source association(s) :listing or :listings in model ListingsContacts.  Try 'has_many :listings, :through => :listings_contacts, :source => <name>'.  Is it one of ?) on line #14 of app/views/contact/_contact.rhtml:
11: 	<td>
12: 	<%@options = "<option value='-1'>Choose a listing</option>"%>
13: 	<%for listing in Listing.find(:all)%>
14: 		<%if !contact.listings.include?(listing)%>
15: 			<%@options = @options + "<option value='#{listing.id}'>listing.hook</option>"%>
16: 		<%end%>
17: 	<%end%>

    app/views/contact/_contact.rhtml:14:in `_run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object'
    app/views/contact/_contact.rhtml:13:in `each'
    app/views/contact/_contact.rhtml:13:in `_run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object'
    app/views/contact/_content.rhtml:4:in `_run_rhtml_app47views47contact47_content46rhtml_locals_content_object'
    app/views/contact/index.rhtml:51:in `_run_rhtml_app47views47contact47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:09:04) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'listings_contacts.contact_id' in 'where clause': SELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m

ActionView::TemplateError (Mysql::Error: Unknown column 'listings_contacts.contact_id' in 'where clause': SELECT `listings`.id FROM `listings`  INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id    WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1))  LIMIT 1) on line #14 of app/views/contact/_contact.rhtml:
11: 	<td>
12: 	<%@options = "<option value='-1'>Choose a listing</option>"%>
13: 	<%for listing in Listing.find(:all)%>
14: 		<%if !contact.listings.include?(listing)%>
15: 			<%@options = @options + "<option value='#{listing.id}'>listing.hook</option>"%>
16: 		<%end%>
17: 	<%end%>

    app/views/contact/_contact.rhtml:14:in `_run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object'
    app/views/contact/_contact.rhtml:13:in `each'
    app/views/contact/_contact.rhtml:13:in `_run_rhtml_app47views47contact47_contact46rhtml_locals_contact_contact_counter_object'
    app/views/contact/_content.rhtml:4:in `_run_rhtml_app47views47contact47_content46rhtml_locals_content_object'
    app/views/contact/index.rhtml:51:in `_run_rhtml_app47views47contact47index46rhtml'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:11:49) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (62.0ms)
Rendered contact/_content (94.0ms)
Completed in 250ms (View: 78, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:12:20) [GET]
  [4;36;1mUser Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (140.0ms)
Rendered contact/_content (172.0ms)
Completed in 203ms (View: 141, DB: 47) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:12:37) [GET]
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (157.0ms)
Rendered contact/_content (187.0ms)
Completed in 218ms (View: 156, DB: 46) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:27:31) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE ((`listings_contacts`.contact_id = 1)) [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered contact/_contact (265.0ms)
Rendered contact/_content (281.0ms)
Completed in 328ms (View: 297, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#addListing (for 127.0.0.1 at 2010-08-30 15:27:38) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"5"}

ActionView::MissingTemplate (Missing template contact/addListing.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:29:21) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.* FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE ((`listings_contacts`.contact_id = 1)) [0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT * FROM `listings` [0m
  [4;35;1mListing Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings`[0m
Rendered contact/_contact (360.0ms)
Rendered contact/_content (375.0ms)
Completed in 407ms (View: 375, DB: 0) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#addListing (for 127.0.0.1 at 2010-08-30 15:29:25) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"5"}

ActionView::MissingTemplate (Missing template contact/addListing.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:29:53) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (16.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (156.0ms)
Rendered contact/_content (172.0ms)
Completed in 203ms (View: 172, DB: 31) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#addListing (for 127.0.0.1 at 2010-08-30 15:30:02) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"5"}

ActionView::MissingTemplate (Missing template contact/addListing.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:30:36) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (140.0ms)
Rendered contact/_content (156.0ms)
Completed in 187ms (View: 156, DB: 31) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#addListing (for 127.0.0.1 at 2010-08-30 15:30:40) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"6"}

ActionView::MissingTemplate (Missing template contact/addListing.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:42:51) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (188.0ms)
Rendered contact/_content (203.0ms)
Completed in 234ms (View: 204, DB: 30) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:44:55) [GET]
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (156.0ms)
Rendered contact/_content (156.0ms)
Completed in 203ms (View: 172, DB: 15) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#addListing (for 127.0.0.1 at 2010-08-30 15:45:10) [POST]
  Parameters: {"Submit"=>"Submit", "authenticity_token"=>"lXUl4v99n40UpZKILQhrDZYnPfY+VcxBQZdK6a8rYlc=", "id"=>"1", "listing_list"=>"6"}
  [4;36;1mContact Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.`id` = '1') LIMIT 1[0m
  [4;36;1mListing Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` WHERE (`listings`.`id` = '6') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mListingsContacts Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `listings_contacts`[0m
  [4;36;1mListingsContacts Create (16.0ms)[0m   [0;1mINSERT INTO `listings_contacts` (`updated_at`, `listing_id`, `contact_id`, `created_at`) VALUES('2010-08-30 07:45:10', 6, 1, '2010-08-30 07:45:10')[0m
  [4;35;1mSQL (15.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m

ActionView::MissingTemplate (Missing template contact/addListing.erb in view path app/views):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ContactController#index (for 127.0.0.1 at 2010-08-30 15:46:31) [GET]
  [4;36;1mUser Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering contact/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mContact Load (0.0ms)[0m   [0mSELECT * FROM `contacts` WHERE (`contacts`.user_id = 1) [0m
  [4;36;1mContact Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT * FROM `listings` [0m
  [4;36;1mListing Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `listings`[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 5) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;36;1mListing Load (0.0ms)[0m   [0;1mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 6) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
  [4;35;1mListing Load (0.0ms)[0m   [0mSELECT `listings`.id FROM `listings` INNER JOIN `listings_contacts` ON `listings`.id = `listings_contacts`.listing_id WHERE (`listings`.`id` = 7) AND ((`listings_contacts`.contact_id = 1)) LIMIT 1[0m
Rendered contact/_contact (219.0ms)
Rendered contact/_content (250.0ms)
Completed in 281ms (View: 249, DB: 16) | 200 OK [http://localhost/contact/index]
  [4;36;1mSQL (32.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing TravelController#index (for 127.0.0.1 at 2010-09-28 16:01:18) [GET]
  [4;36;1mCountry Load (94.0ms)[0m   [0;1mSELECT * FROM `countries` [0m
Rendering travel/index
  [4;35;1mCountry Columns (47.0ms)[0m   [0mSHOW FIELDS FROM `countries`[0m
Completed in 532ms (View: 94, DB: 188) | 200 OK [http://localhost/travel]
